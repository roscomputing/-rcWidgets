var rcWidgets=function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=119)}([function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var a=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(o).concat([a]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(a=0;a<t.length;a++){var s=t[a];null!=s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){var i,a,o={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=i.apply(this,arguments)),a}),l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),r=null,c=0,d=[],u=n(6);function f(t,e){for(var n=0;n<t.length;n++){var i=t[n],a=o[i.id];if(a){a.refs++;for(var s=0;s<a.parts.length;s++)a.parts[s](i.parts[s]);for(;s<i.parts.length;s++)a.parts.push(b(i.parts[s],e))}else{var l=[];for(s=0;s<i.parts.length;s++)l.push(b(i.parts[s],e));o[i.id]={id:i.id,refs:1,parts:l}}}}function p(t,e){for(var n=[],i={},a=0;a<t.length;a++){var o=t[a],s=e.base?o[0]+e.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(l):n.push(i[s]={id:s,parts:[l]})}return n}function m(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=l(t.insertAt.before,n);n.insertBefore(e,a)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return g(e,t.attrs),m(t,e),e}function g(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function b(t,e){var n,i,a,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var s=c++;n=r||(r=v(e)),i=w.bind(null,n,s,!1),a=w.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),m(t,e),e}(e),i=function(t,e,n){var i=n.css,a=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&a;(e.convertToAbsoluteUrls||o)&&(i=u(i));a&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var s=new Blob([i],{type:"text/css"}),l=t.href;t.href=URL.createObjectURL(s),l&&URL.revokeObjectURL(l)}.bind(null,n,e),a=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),a=function(){h(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else a()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return f(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a];(l=o[s.id]).refs--,i.push(l)}t&&f(p(t,e),e);for(a=0;a<i.length;a++){var l;if(0===(l=i[a]).refs){for(var r=0;r<l.parts.length;r++)l.parts[r]();delete o[l.id]}}}};var y,x=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function w(t,e,n,i){var a=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,a);else{var o=document.createTextNode(a),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"libraryInitialAction",function(){return u}),n.d(e,"anyWidgetInitialActions",function(){return f}),n.d(e,"findWidgetPos",function(){return c}),n.d(e,"log",function(){return r}),n.d(e,"bindViewModel",function(){return m}),n.d(e,"getHtml",function(){return h}),n.d(e,"initTemplates",function(){return p}),n.d(e,"setMainOverflow",function(){return v}),n.d(e,"setYCenterPosition",function(){return d}),n.d(e,"htmlDecode",function(){return y}),n.d(e,"checkEmail",function(){return g}),n.d(e,"pasteCleanup",function(){return b}),n.d(e,"isNumberKey",function(){return x}),n.d(e,"isNullOrUndefined",function(){return k}),n.d(e,"isFunction",function(){return C}),n.d(e,"checkPosition",function(){return w}),Date.prototype.toDateTimeString=function(){return(this.getHours()<10?"0"+this.getHours():this.getHours())+":"+(this.getMinutes()<10?"0"+this.getMinutes():this.getMinutes())+" "+(this.getDate()<10?"0"+this.getDate():this.getDate())+"."+(this.getMonth()+1<10?"0"+(this.getMonth()+1):this.getMonth()+1)+"."+this.getFullYear()},Date.prototype.toLocalUTCString=function(){return this.getFullYear()+"-"+pad(this.getMonth()+1)+"-"+pad(this.getDate())+"T"+pad(this.getHours())+":"+pad(this.getMinutes())+":"+pad(this.getSeconds())+"."+String((this.getMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},Date.prototype.toJSON=function(){return moment(this).format("YYYY-MM-DD[T]HH:mm:ss")};var i,a,o,s=n(5),l=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=function(t){"function"==typeof a&&a(t)||console.log(t)},c=function(t,e){if(!e)return!1;var n=parseInt(t.css("left")),i=parseInt(t.css("top"));e.y&&(i=Math.max(Math.min(e.y-$(window).scrollTop(),$(window).height()-t.height()-50),10)),e.x&&(n=Math.max(Math.min(e.x,$(window).width()-t.width()-50),10)),$(t).css("top",i),$(t).css("left",n)},d=function(t){$(t).css("top",(window.scrollY||0)+window.innerHeight/2)},u=function(t){if(!t||!t.selector||!$(t.selector).length)return!1;var e,n;a=t.log,i=$(t.selector).addClass("rc-widgets")[0],e=function(t){$(t.target).closest(".w-popup").length||$(t.target).closest(".w-popup-background.popup-mode").length||$(".w-popup.showing:last").trigger("onClose").removeClass("showing"),$(t.target).closest(".w-popup-close").length&&($(".w-popup.showing").trigger("onClose"),$(".w-popup").removeClass("showing"))},n=function(t){27===t.keyCode&&$(".w-popup.showing").length&&($(".w-popup.showing").trigger("onClose"),$(".w-popup").removeClass("showing"))},window.removeEventListener("keydown",n),window.removeEventListener("touchstart",e),window.removeEventListener("mouseup",e),window.addEventListener("keydown",n),window.addEventListener("touchstart",e),window.addEventListener("mouseup",e)},f=function(t){i||u(t);var e,n=$('<div id="'.concat((e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)})()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e(),'"></div>'));return n.appendTo(i),n},p=function(t,e,n,i,a){t.html('<div class="w-popup-background'.concat(i?" popup-mode":"",'"></div>'));var o=$("<div>".concat(e,"</div>")),s=o.find(n).html();a&&a.length&&a.forEach(function(e){var n=e.templateName,i="#".concat(n),a=o.find(i),l=e.userTemplate;if(l){var r="".concat(n,"-").concat($(t).attr("id")),c=new RegExp(n,"g"),d=a.html().replace("#: name #",l).replace(c,r);s=s.replace(c,r),a.html(d),a.attr("id",r),$("body").prepend(a)}$(i).length||$("body").prepend(a)}),t.append(s)},m=function(t,e){return e=kendo.observable(e),kendo.bind(t.find("> .w-popup"),e),e.init(),e},h=function(t){return t.remote_id&&s.video.services[t.source]?s.video.services[t.source].html.replace(/<%= remote_id %>/g,t.remote_id):""},v=function(t){var e=$("html");t?(o=e.css("overflow"),e.css("overflow","hidden")):e.css("overflow",o)},g=function(t){return t&&l.test(t)},b=function(t){var e,n,i;return e=t,n=["src","href","style"],i=document.createElement("div"),i=$(i).html(e),$(i).find("*").each(function(){for(var t=this.attributes,e=t.length;e--;){var i=t[e];-1===$.inArray(i.name,n)&&this.removeAttributeNode(i)}}),$(i).html().replace(/<!--[\s\S]*?-->/g,"").replace(/<p>/g,"<div>").replace(/<\/p>/g,"</div>").replace(/<(?!\s*\/?\s*(div|br|b|u|i|strike|s|del|strong|em|li|ol|ul|a)\b)[^>]*>/gi," ").replace(/\n/gi," ")},y=function(t,e){var n,i=document.createElement("div");return i.innerHTML=t,n=(0===i.childNodes.length?"":i.childNodes[0].nodeValue)||t,t&&(e||(n=n.replace(/(<([^>]+)>)/gi," ")||""),n=(n=n.replace(/\n/gi," ")||"").replace(/&nbsp;/gi,"")||""),n},x=function(t){var e=t.which?t.which:t.keyCode;return!(e>31&&(e<48||e>57))},w=function(t){var e=t.find(".w-popup"),n=$(window).height()-(e.position().top+e.outerHeight());n<0&&e.css("top",e.position().top+n),(n=$(window).width()-(e.position().left+e.outerWidth()))<0&&e.css("left",e.position().left+n)},k=function(t){return null==t},C=function(t){return"function"==typeof t}},function(t,e){},function(t,e,n){"use strict";n.r(e),n.d(e,"onCloseSetup",function(){return a}),n.d(e,"performClose",function(){return o}),n.d(e,"destroy",function(){return s}),n.d(e,"show",function(){return l});var i=n(2),a=function(t,e,n){e&&e.length&&t&&"function"==typeof t.callback&&e.find(".w-popup").on("onClose",n)},o=function(t,e){t.find("> .w-popup").trigger("onClose",e),t.find("> .w-popup").removeClass("showing"),t.find(".w-popup").removeClass("no-close"),t.find(".w-popup").off("onClose")},s=function(t,e){var n=t.find("> .w-popup");if(kendo.unbind(n),n.off("mouseup"),t.off(),t.remove(),e){var a="#".concat(e,"-").concat($(t).attr("id"));$(a).length&&$(a).remove()}i.setMainOverflow()},l=function(t,e,n,a){var o=t.find("> .w-popup");!a&&o.addClass("showing"),i.setMainOverflow(!0),e?i.setYCenterPosition(o):n&&i.findWidgetPos(t.find("> .w-popup"),n)}},function(t,e){t.exports={video:{services:{vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,html:'<iframe src="https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0" style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},giphy:{regex:/^https?:\/\/(?:media)?.?giphy\.com\/(?:embed|gifs|media)\/(?:(?:[^\/]+)-([\w+]+)|([\w+]+))/,html:'<iframe src="https://giphy.com/embed/<%= remote_id %>?" style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/^.*(?:(?:youtu\.be\/)|(?:youtube\.com)\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*)(?:[\?\&]t\=(\d*)|)/,html:'<iframe src="https://www.youtube.com/embed/<%= remote_id %>" style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vk:{regex:/https?:\/\/(?:vk\.com|tjournal\.ru\/proxy)\/.*(?:video)([-0-9]+_[0-9]+)/,html:'<iframe src="https://tjournal.ru/proxy/video/<%= remote_id %>?rel=0&showinfo=0&enablejsapi=1&autoplay=0" width="580" height="320" frameborder="0" allowfullscreen></iframe>'},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,html:'<iframe src="//coub.com/embed/<%= remote_id %>" style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,html:'<iframe src="https://vine.co/v/<%= remote_id %>/embed/simple/" style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/imgur\.com\/(?:gallery\/)?(?!gallery)([a-zA-Z0-9]+)\/?$/,html:'<iframe allowfullscreen="true" scrolling="no" src="https://imgur.com/<%= remote_id %>/embed" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; "></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/ru\/gifs\/detail|\/ifr)?\/([a-zA-Z]+)/,html:"<iframe src='https://gfycat.com/ifr/<%= remote_id %>' frameborder='0' scrolling='no' style=\"width:100%;\" height='436' allowfullscreen ></iframe>",height:436,width:580},"twitch-channel":{regex:/https?:\/\/www.twitch.tv\/([^\/\?\&]*)/,html:'<iframe src="https://player.twitch.tv/?channel=<%= remote_id %>" frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www.twitch.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,html:'<iframe src="https://player.twitch.tv/?video=v<%= remote_id %>" frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music.yandex.ru\/album\/([0-9]*)/,html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400" src="https://music.yandex.ru/iframe/#album/<%= remote_id %>/"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music.yandex.ru\/album\/([0-9]*)\/track\/([0-9]*)/,html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100" src="https://music.yandex.ru/iframe/#track/<%= remote_id %>/"></iframe>',height:100,width:540},"yandex-music-playlist":{regex:/https?:\/\/music.yandex.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400" src="https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/"></iframe>',height:400,width:540},ok:{regex:/https?:\/\/(?:(?:www|m|mobile)\.)?(?:odnoklassniki|ok)\.ru\/(?:video|live|videoembed)\/(\d+)/,html:'<iframe src="https://ok.ru/videoembed/<%= remote_id %>/" frameborder="0" allowfullscreen="true" scrolling="no" height="400" style="width:100%;"></iframe>',width:540,height:400}},pastePatterns:[{type:"vk",regex:/https?:\/\/(?:vk\.com|tjournal\.ru\/proxy)\/.*(?:video)([-0-9]+_[0-9]+)/},{type:"giphy",regex:/^https?:\/\/(?:media)?.?giphy\.com\/(?:embed|gifs|media)\/(?:(?:[^\/]+)-([\w+]+)|([\w+]+))/},{type:"youtube",regex:/^.*(?:(?:youtu\.be)|(?:youtube\.com))\/(?:v\/|u\/\w\/|embed\/|watch\?(?:time_continue=\d+&v=|v=|\&v=))?([^#\&\?]*)(?:[\?\&]t\=(\d*)|)/},{type:"vimeo",regex:/(?:http[s]?:\/\/)?(?:www.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/},{type:"coub",regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/},{type:"vine",regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/},{type:"imgur",regex:/https?:\/\/imgur\.com\/(?:gallery\/)?(?!gallery)([a-zA-Z0-9]+)\/?$/},{type:"gfycat",regex:/https?:\/\/gfycat\.com(?:(?:\/ru)?\/gifs\/detail|\/ifr)?\/(\w+)/},{type:"twitch-channel",regex:/https?:\/\/www.twitch.tv\/([^\/\?\&]*)/},{type:"twitch-video",regex:/https?:\/\/www.twitch.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/},{type:"yandex-music-album",regex:/https?:\/\/music.yandex.ru\/album\/([0-9]*)/},{type:"yandex-music-track",regex:/https?:\/\/music.yandex.ru\/album\/([0-9]*)\/track\/([0-9]*)/},{type:"yandex-music-playlist",regex:/https?:\/\/music.yandex.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/},{type:"ok",regex:/https?:\/\/(?:(?:www|m|mobile)\.)?(?:odnoklassniki|ok)\.ru\/(?:video|live|videoembed)\/(\d+)/}]}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var a,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(a=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}},function(t,e,n){n(3),n(9),n(11),n(13);var i=n(2),a=n(4),o=n(15);t.exports=function(t,e){var n,s={selector:t.selector,log:t.log,pos:{x:t.pageX||0,y:t.pageY||0},values:t.values,found:t.found,method:t.method,getAjaxData:t.getAjaxData,onAjaxSuccess:t.onAjaxSuccess,maxValuesCount:t.maxValuesCount,clientSearch:t.clientSearch,callback:function(t){"function"==typeof e&&e(t),n.destroy()}};return t.url&&(s.url=t.url),(n=function(t){var e,n=i.anyWidgetInitialActions(t);if(!n)return null;i.initTemplates(n,o,"#rc-autocomplete-template",!1,[{templateName:"rc-autocomplete-item-template"},{templateName:"rc-autocomplete-button-item-template"}]);var s={buttons:t.buttons?t.buttons:[],values:t.values?t.values:[],found:t.found?t.found:[],foundBackup:t.found?t.found:[],searchStr:"",searchStrTimeout:null,onButtonClick:function(t){e=t.data.slug,a.performClose(n)},valuesExists:function(){return!!this.get("values").length},searchStrChange:function(){var t=this;this.searchStrTimeout&&clearTimeout(this.searchStrTimeout),this.searchStrTimeout=setTimeout(function(){t.getPossibleValues()},300)},onGetPossibleValuesSuccess:function(e,n){var i=this;t.onAjaxSuccess&&(n=t.onAjaxSuccess(n)),n&&n.length?(this.set("foundBackup",n),this.set("found",n.filter(function(t){return-1===e.indexOf(t.Id)})),this.set("found",this.get("found").filter(function(t){return!i.values.some(function(e,n){return n.Id===t.Id})}))):(this.set("foundBackup",[]),this.set("found",[]))},onGetPossibleValuesError:function(t){t&&t.responseJSON&&i.log(t.responseJSON)},getPossibleValues:function(){var e=this.get("values").map(function(t){return t.Id});if(!t.url||this.found.length&&t.clientSearch){var n=function(t){return t.toLowerCase().trim()},i=n(this.get("searchStr")),a=this.get("foundBackup").filter(function(t){return-1===e.indexOf(t.Id)&&-1!==n(t.Text).indexOf(i)});this.set("found",a)}else{var o=this.get("searchStr"),s=t.url;if(t.getAjaxData){var l=t.getAjaxData({skip:this.dataParams?this.dataParams.take:0,take:this.dataParams?this.dataParams.take:40,searchStr:o.trim(),values:this.values||[]});this.onGetPossibleValuesSuccess(e,l)}else $.ajax({data:{searchStr:o},method:t.method||"GET",url:s,success:this.onGetPossibleValuesSuccess.bind(this,e),error:this.onGetPossibleValuesError})}},selectValue:function(e){var i=this,o=$(e.target).closest("li").parent().hasClass("values"),s=e.data;if(o)return this.found.unshift(s),this.set("values",this.get("values").filter(function(t){return t.Id!==s.Id})),!1;this.values.unshift(s),t.maxValuesCount&&this.values.length>t.maxValuesCount&&this.found.unshift(this.values.pop()),this.set("found",this.get("found").filter(function(t){return i.values.indexOf(t)<0})),t.maxValuesCount&&this.values.length===t.maxValuesCount&&a.performClose(n)},onClose:function(){i.isNullOrUndefined(e)?t.callback(this.get("values")):(t.callback([],e),e=null)},init:function(){this.getPossibleValues(),a.onCloseSetup(t,n,this.onClose.bind(this))},show:function(){a.show(n,!1,t.pos)},destroy:function(){a.destroy(n)}};return i.bindViewModel(n,s)}(s)).show(),n}},function(t,e,n){n(3),n(16),n(18),n(20);var i=n(2),a=n(4),o=n(22),s=function(t){var e=i.anyWidgetInitialActions(t);if(!e)return null;i.initTemplates(e,o,"#rc-calendar-template",!1,[{templateName:"rc-calendar-slide-2-template"}]);var n,s={},l=t.to?t.to.date:null,r=t.type?t.type:2,c=(l?moment(l):moment()).clone();2===r?e.find(".rc-calendar").addClass("period-type"):e.find(".rc-calendar .h .type button").toggleClass("active"),t.onlyDate&&e.find(".rc-calendar").addClass("only-date"),e.find(".blue-zone .to .empty-label").html(t.toLabel?t.toLabel:"не задано"),e.find(".blue-zone .from .empty-label").html(t.fromLabel?t.fromLabel:"не задано");var d=function(t){for(var e="",n=t.format("YYYY-M-"),i=1;i<t.date(1).isoWeekday();)e+="<li></li>",i++;for(i=1;i<=t.daysInMonth();)e+='<li class="item" data-id="'.concat(n+i,'">').concat(i,"</li>"),i++;return e},u=function(){if(!t.regulations)return!1;var n=function(t,n){var i=moment(t).format("YYYY-M-D"),a=n?function(t){return t<=0}:function(t){return t>=0},o=e.find(".calendar .dates li[data-id=".concat(i,"]"));if(o.length)o=o[n?"prev":"next"]();else{var s=e.find(".calendar .dates li:".concat(n?"last":"first")).attr("data-id");moment(s,"YYYY-M-D").diff(moment(t))<0&&(o=e.find(".calendar .dates li:".concat(n?"last":"first")))}if(o&&o.length){var l=moment($(o).attr("data-id"),"YYYY-M-D");e.find(".calendar .dates li").forEach(function(t){if((t=$(t)).attr("data-id")){var e=moment(t.attr("data-id"),"YYYY-M-D");a(e.diff(l))&&t.addClass("disabled")}})}};t.regulations.BaseDays.forEach(function(n,i){return function(t,e,n){return n&&t.find(".calendar .dates li:nth-child(7n + ".concat(e.DayId,")")).addClass("disabled")}(e,n,t.regulations.OffHoursSelectable?0!==i&&6!==i&&!n.IsWorking:!n.IsWorking)}),t.regulations.SpecialDays.forEach(function(t){return function(t,e,n){return n&&t.find(".calendar .dates li[data-id=".concat(moment(e.Date).format("YYYY-M-D"),"]")).addClass("disabled")}(e,t,!t.IsWorking)}),t.minDate&&n(t.minDate,!0),t.maxDate&&n(t.maxDate)},f=function(){n=c.clone().date(25).subtract(1,"month"),e.find(".calendar.right .dates").html(d(c)),e.find(".calendar:not(.right) .dates").html(d(n)),e.find(".title .r .slide-1 .month").html(c.format("MMMM")),e.find(".title .r .slide-1 .year").html(c.year()),e.find(".title .l .slide-1 .month").html(n.format("MMMM")),e.find(".title .l .slide-1 .year").html(n.year());var t=moment().format("YYYY-M-D");e.find("[data-id="+t+"]").length&&e.find("[data-id="+t+"]").addClass("today"),u(),p()},p=function(){if(e.find(".selected-from").removeClass("selected-from"),e.find(".selected-to").removeClass("selected-to"),e.find(".selected-between").removeClass("selected-between"),e.find(".selected-item").removeClass("selected-item"),s.to){e.find(".blue-zone .to").removeClass("empty"),e.find(".blue-zone .to .choice-time").html(moment(s.to).format("HH:mm"));var t=moment(s.to).format("YYYY-M-D");e.find("[data-id="+t+"]").length&&e.find("[data-id="+t+"]").addClass("selected-to")}else e.find(".blue-zone .to").addClass("empty");if(s.from){e.find(".blue-zone .from").removeClass("empty"),e.find(".blue-zone .from .choice-time").html(moment(s.from).format("HH:mm"));var i=moment(s.from).format("YYYY-M-D");e.find("[data-id="+i+"]").length&&(e.find("[data-id="+i+"]").addClass("selected-from"),1===s.type&&e.find("[data-id="+i+"]").addClass("selected-item"))}else e.find(".blue-zone .from").addClass("empty");var a=e.find(".calendar:not(.right) .dates li.item:first"),o=e.find(".calendar.right .dates li.item:first"),l=c.month(),r=n.month();s.to&&moment(s.to).month()>=l&&(!s.from||moment(s.from).month()<l)&&o.addClass("selected-from").addClass("selected-between"),s.from&&moment(s.from).month()<r&&(!s.to||moment(s.to).month()>=r)&&a.addClass("selected-from").addClass("selected-between"),2===s.type&&(s.to&&!s.from&&(moment(s.to).month()>=c.month()&&(o.addClass("selected-from").addClass("selected-between"),a.addClass("selected-from").addClass("selected-between")),moment(s.to).month()===n.month()&&a.addClass("selected-from").addClass("selected-between")),!s.to&&s.from&&(moment(s.from).month()===n.month()&&o.addClass("selected-from").addClass("selected-between"),moment(s.from).month()<n.month()&&(o.addClass("selected-from").addClass("selected-between"),a.addClass("selected-from").addClass("selected-between"))))},m=function(t,e){var n=moment(s.to),i=moment(s.from);e?(n.hour(parseInt(t.split(":")[0])).minutes(parseInt(t.split(":")[1])),s.from&&i.diff(n)>0&&n.hour(i.hour()).minutes(i.minutes())):(i.hour(parseInt(t.split(":")[0])).minutes(parseInt(t.split(":")[1])),s.to&&i.diff(n)>0&&i.hour(n.hour()).minutes(n.minutes())),s.to&&s.set("to",n.format("YYYY-MM-DDTHH:mm:ss")),s.from&&s.set("from",i.format("YYYY-MM-DDTHH:mm:ss")),s.dateIsChange(),p()};e.find(".time-choice ul").on("click",function(t){if("LI"!==t.target.nodeName.toUpperCase())return!1;m($(t.target).text(),!!$(t.target).closest(".to").length)});var h=function(e){if(!e)return!1;var n={iMin:0,iMax:23,jMin:0,jMax:59},i=t.regulations&&t.regulations.BaseDays;if(i&&i.length){e=moment(e).day();var a=function(t,e,n){return t&&!Number.isNaN(t[e])?t[e]:n},o=i.filter(function(t){return t.DayId===e}).map(function(t){return{iMin:a(t.StartWorkingTime,"Hour",0),iMax:a(t.EndWorkingTime,"Hour",23),jMin:a(t.StartWorkingTime,"Minutes",0),jMax:a(t.EndWorkingTime,"Minutes",59)}});return o&&o.length&&o[0]||n}return n};return s.toDisabled&&s.fromDisabled||e.find(".blue-zone .choice-time").on("click",function(t){var n,i=$(t.target).closest(".to").length?s.to:s.from,a=h(i);if(!i||-1===a.iMax)return!1;e.find(".blue-zone .time-choice ul").empty("");var o=function(t,n){e.find(".blue-zone .time-choice ul").append("<li>"+("0"+t).slice(-2)+":"+("0"+n).slice(-2)+"</li>")};for(o(a.iMin,a.jMin),n=60*a.iMin+a.jMin+30;n<60*a.iMax+a.jMax;n+=30)o(parseInt(n/60),30*parseInt(n%60/30)%60);o(a.iMax,a.jMax),$(t.target).closest("div").find("> .time-choice").addClass("showing")}),e.find("> .w-popup").on("mouseup",function(t){e.find("> .w-popup").find(".showing").removeClass("showing")}),s={to:t.to?t.to.date:null,from:t.from?t.from.date:null,toDisabled:!!t.to&&!!t.to.disabled,fromDisabled:!!t.from&&!!t.from.disabled,slide:1,setSlideThree:function(t){this.set("leftTitle","".concat(t-16,"-").concat(t-1)),this.set("rightTitle","".concat(t,"-").concat(t+15));for(var e=[],n=[],i=0;i<16;i++)e.push({id:t-(16-i),name:t-(16-i)}),n.push({id:t+i,name:t+i});this.set("leftArray",e),this.set("rightArray",n)},setSlideTwo:function(t){this.set("leftTitle",t-1),this.set("rightTitle",t);for(var e=[],n=[],i=0;i<12;i++)e.push({id:i,name:moment().month(i).format("MMMM"),year:t-1}),n.push({id:i,name:moment().month(i).format("MMMM"),year:t});this.set("leftArray",e),this.set("rightArray",n)},addSlide:function(){var t=this;this.set("slide",Math.min(this.slide+1,4));var e=function(){return t.get("from")?moment(t.get("from")).year():t.get("to")?moment(t.get("to")).year():moment().year()};if(4===this.slide){var n=e();this.set("leftTitle","".concat(n-128,"-").concat(n-1)),this.set("rightTitle","".concat(n,"-").concat(n+127));for(var i=[],a=[],o=0;o<8;o++)i.push(this.getLeftArrayDefaultObject(n,o)),a.push(this.getRightArrayDefaultObject(n,o));this.set("leftArray",i),this.set("rightArray",a)}if(3===this.slide){var s=e();this.setSlideThree(s)}if(2===this.slide){var l=e();this.setSlideTwo(l)}},choiceSlide2Item:function(t){4===this.slide?(this.setSlideThree(t.data.year),this.set("slide",3)):3===this.slide?($(t.target).closest(".left").length?this.setSlideTwo(t.data.id+1):this.setSlideTwo(t.data.id),this.set("slide",2)):2===this.slide&&($(t.target).closest(".left").length?(this.get("leftTitle")&&n.year(this.get("leftTitle")),n.date(1).month(t.data.id),(c=n.clone()).date(25).add(1,"month")):(this.get("rightTitle")&&c.year(this.get("rightTitle")),c.date(1).month(t.data.id),(n=c.clone()).date(25).subtract(1,"month")),f(),this.set("slide",1))},leftTitle:"",rightTitle:"",leftArray:[],rightArray:[],getLeftArrayDefaultObject:function(t,e){return{year:t-16*(8-e)+15+1,id:t-16*(8-e)+" - "+(t-16*(8-e)+15),name:t-16*(8-e)+" - "+(t-16*(8-e)+15)}},getRightArrayDefaultObject:function(t,e){return{year:t+16*e,id:t+16*e+" - "+(t+16*e+15),name:t+16*e+" - "+(t+16*e+15)}},getVisibleDayChoice:function(){return 1===this.get("slide")},moin:function(){switch(this.slide){case 1:c.date(25).subtract(1,"month"),n.date(25).subtract(1,"month"),f();break;case 2:this.set("rightTitle",this.get("leftTitle")),this.set("leftTitle",+this.get("leftTitle")-1);break;case 3:var t=this.leftArray[0].id;if(t-16<0)return!1;this.set("rightTitle",this.get("leftTitle")),this.set("rightArray",$.merge([],this.get("leftArray"))),this.set("leftTitle",t-16+"-"+(t-1));for(var e=[],i=0;i<16;i++)e.push({id:t-(16-i),name:t-(16-i)});this.set("leftArray",e);break;case 4:var a=this.leftArray[0].year-16;if(a-128<0)return!1;this.set("rightTitle",this.get("leftTitle")),this.set("rightArray",$.merge([],this.get("leftArray"))),this.set("leftTitle",a-128+"-"+(a-1));for(var o=[],s=0;s<8;s++)o.push(this.getLeftArrayDefaultObject(s,a));this.set("leftArray",o)}},plus:function(){switch(this.slide){case 1:c.date(25).add(1,"month"),n.date(25).add(1,"month"),f();break;case 2:this.set("leftTitle",this.get("rightTitle")),this.set("rightTitle",+this.get("rightTitle")+1);break;case 3:var t=this.rightArray[this.rightArray.length-1].id+1;if(t>3e3)return!1;this.set("leftTitle",this.get("rightTitle")),this.set("leftArray",$.merge([],this.get("rightArray"))),this.set("rightTitle",t+"-"+(t+15));for(var e=[],i=0;i<16;i++)e.push({id:t+i,name:t+i});this.set("rightArray",e);break;case 4:var a=this.rightArray[this.rightArray.length-1].year+16;if(a>3e3)return!1;this.set("leftTitle",this.get("rightTitle")),this.set("leftArray",$.merge([],this.get("rightArray"))),this.set("rightTitle",a+"-"+(a+127));for(var o=[],s=0;s<8;s++)o.push(this.getRightArrayDefaultObject(a,s));this.set("rightArray",o)}},removeButtonVisible:function(){return!(this.get("toDisabled")||this.get("fromDisabled")||!this.get("from")&&!this.get("to"))},removeIt:function(){this.set("to",null),this.set("from",null),this.dateIsChange(),p()},getVisibleBlueZone:function(){return 2===t.type||!t.onlyDate},dateIsChange:function(){},type:t.type||2,onlyDate:t.onlyDate,dayChoice:function(e){if($(e.target).hasClass("item")&&!$(e.target).hasClass("disabled")){var n=$(e.target).attr("data-id"),i=moment(n,"YYYY-M-D");if(this.fromDisabled||this.toDisabled){if(this.fromDisabled&&!this.toDisabled){this.from&&moment(this.from).diff(i)>0?this.set("to",moment(this.from).format("YYYY-MM-DDT23:59:59")):this.set("to",i.clone().format("YYYY-MM-DDT23:59:59"));var a=h(this.to);a&&m(a.iMin+":"+a.jMin,!0),this.onlyDate&&this.apply()}else if(!this.fromDisabled&&this.toDisabled){this.to&&moment(this.to).diff(i)<0?this.set("from",moment(this.to).format("YYYY-MM-DDT00:00:01")):this.set("from",i.clone().format("YYYY-MM-DDT00:00:01"));var o=h(this.from);if(o)if(t.autoSetTime){var l=!1;if($.each(t.regulations.BaseDays,function(e,n){n.DayId===i.day()&&t.regulations.OffHoursSelectable&&!n.IsWorking&&t.regulations.OffHoursSelectable&&!n.IsWorking&&(l=!0)}),l){var r=-1;if($.each(t.regulations.BaseDays,function(t,e){var n=0===i.day()?7:i.day();e.DayId<n&&e.IsWorking&&e.DayId>r&&(r=e.DayId)}),r){var c=t.regulations.BaseDays[r],d={iMin:c.StartWorkingTime.Hour,iMax:c.EndWorkingTime.Hour,jMin:c.StartWorkingTime.Minutes,jMax:c.EndWorkingTime.Minutes};m(d.iMax+":"+d.jMax,!1)}else m(o.iMax+":"+o.jMax,!1)}else m(o.iMax+":"+o.jMax,!1)}else m(o.iMin+":"+o.jMin,!1);this.onlyDate&&this.apply()}}else this.from?this.to?(this.set("from",i.clone().format("YYYY-MM-DDTHH:mm:ss")),this.set("to",null)):moment(this.from).diff(i)>0?(this.set("to",moment(this.from).clone().format("YYYY-MM-DDTHH:mm:ss")),this.set("from",i.clone().format("YYYY-MM-DDTHH:mm:ss"))):this.set("to",i.clone().format("YYYY-MM-DDTHH:mm:ss")):this.set("from",i.clone().format("YYYY-MM-DDTHH:mm:ss")),this.from&&this.to&&moment(this.to).diff(moment(this.from))<0&&(i=this.to,this.set("to",this.from),this.set("from",this.val));s.dateIsChange(),p()}},getDateLabel:function(t){var e=this.get(t);return e?moment(e).format("DD MMM YYYY"):""},getFromDateLabel:function(){this.getDateLabel("from")},getToDateLabel:function(){this.getDateLabel("to")},onClose:function(){t.callback(this.get("from"),this.get("to"),null)},init:function(){a.onCloseSetup(t,e,this.onClose.bind(this)),f()},apply:function(){t.callback&&t.callback(this.from,this.to,this.get("option"))},show:function(){a.show(e,!1,t.pos),i.checkPosition(e)},destroy:function(){e.find(".choice-time").off("click"),e.find(".time-choice li").off("click"),e.find(".calendar").off("click"),e.find(".title .r button").off("click"),e.find(".title .l button").off("click"),a.destroy(e)}},s=i.bindViewModel(e,s)};t.exports=function(t,e){var n,i={selector:t.selector,log:t.log,pos:{x:t.pageX||0,y:t.pageY||0},toLabel:t.toLabel||"",type:t.type||1,fromLabel:t.fromLabel||"",to:{date:t.to||null,disabled:2!==t.type},from:{date:t.from||null},regulations:t.regulations,onlyDate:t.onlyDate,callback:function(t,i){e(t,i),n.destroy()}};return(n=s(i)).show(),n}},function(t,e,n){var i=n(10);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(12);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(14);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<script id="rc-autocomplete-item-template" type="text/x-kendo-template">\n    <li\n        data-bind="click: selectValue"\n    >\n        #= Text #\n        <i class="material-icons">\n            check\n        </i>\n    </li>\n<\/script>\n\n<script id="rc-autocomplete-button-item-template" type="text/x-kendo-template">\n    <li\n        data-bind="click: onButtonClick"\n    >\n        #: name #\n    </li>\n<\/script>\n\n<div id=\'rc-autocomplete-template\'>\n    <div class="rc-autocomplete w-popup">\n        <div class="search-input">\n            <button\n                class="find-button"\n                type="button">\n                <i class="material-icons">\n                    search\n                </i>\n            </button>\n\n            <input\n                data-value-update="keyup"\n                data-bind="\n                    value: searchStr,\n                    events: {\n                        change: searchStrChange,\n                        keyup: searchStrChange\n                    }\n                "\n                type="text"/>\n        </div>\n\n        <ul\n            data-template="rc-autocomplete-button-item-template"\n            data-bind="\n                visible: buttons,\n                source: buttons\n            "\n            class="buttons"\n        ></ul>\n\n        <span data-bind="invisible: valuesExists" class="empty-label">\n            Не задано\n        </span>\n\n        <ul\n            data-template="rc-autocomplete-item-template"\n            data-bind="\n                visible: valuesExists,\n                source: values\n            "\n            class="values">\n        </ul>\n\n        <span class="line"></span>\n\n        <ul\n            data-template="rc-autocomplete-item-template"\n            data-bind="source: found"\n            class="found">\n        </ul>\n    </div>\n</div>\n'},function(t,e,n){var i=n(17);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(19);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(21);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<script id="rc-calendar-slide-2-template" type="text/x-kendo-template">\n    <button\n        data-bind="click: choiceSlide2Item"\n        type="button" class="slide-2-item">\n        #: name #\n    </button>\n<\/script>\n\n<div id=\'rc-calendar-template\'>\n    <div\n        data-bind="\n            css: {\n                with-blue-zone: getVisibleBlueZone\n            }\n        "\n        class="rc-calendar w-popup with-blue-zone">\n        <div class="h">\n            <div\n                data-bind="\n                    visible: removeButtonVisible\n                "\n                class="clear-it">\n                <button\n                    data-bind="click: removeIt"\n                    type="button">\n                    <i class="material-icons">\n                        clear\n                    </i>\n                </button>\n            </div>\n        </div>\n\n        <div class="title">\n            <div class="l">\n                <button\n                    data-bind="click: moin"\n                    type="button" class="nav">\n                    <i class="material-icons">\n                        chevron_left\n                    </i>\n                </button>\n\n                <ul>\n                    <li\n                        data-bind="\n                            invisible: getVisibleDayChoice,\n                            click: addSlide\n                        ">\n                        <label\n                            data-bind="text: leftTitle"\n                            class="month big"></label>\n                    </li>\n                    <li class="slide-1"\n                        data-bind="\n                            visible: getVisibleDayChoice,\n                            click: addSlide\n                        ">\n                        <label class="month"></label>\n                        <label class="year"></label>\n                    </li>\n                </ul>\n            </div>\n            <div class="r">\n                <button\n                    data-bind="click: plus"\n                    type="button"  class="nav">\n                    <i class="material-icons">\n                        chevron_right\n                    </i>\n                </button>\n                <ul>\n                    <li data-bind="\n                        invisible: getVisibleDayChoice,\n                        click: addSlide\n                    ">\n                        <label\n                            data-bind="text: rightTitle"\n                            class="month"></label>\n                    </li>\n                    <li class="slide-1" data-bind="\n                        visible: getVisibleDayChoice,\n                        click: addSlide\n                    ">\n                        <label class="month"></label>\n                        <label class="year"></label>\n                    </li>\n                </ul>\n            </div>\n        </div>\n\n        \x3c!-- SLIDE 2+ --\x3e\n        <div\n            data-bind="\n                invisible: getVisibleDayChoice,\n            "\n            class="calendar">\n\n            <div\n                class="slide-2-container left"\n                data-template="rc-calendar-slide-2-template"\n                data-bind="source: leftArray"></div>\n        </div>\n\n        <div\n            data-bind="\n                invisible: getVisibleDayChoice,\n            "\n            class="calendar">\n\n            <div\n                class="slide-2-container right"\n                data-template="rc-calendar-slide-2-template"\n                data-bind="source: rightArray"></div>\n        </div>\n\n        \x3c!-- SLIDE 1 --\x3e\n        <div\n            data-bind="\n                visible: getVisibleDayChoice,\n                click: dayChoice\n            "\n            class="calendar">\n            <ul class="week-days">\n                <li>ПН</li>\n                <li>ВТ</li>\n                <li>СР</li>\n                <li>ЧТ</li>\n                <li>ПТ</li>\n                <li>СБ</li>\n                <li>ВС</li>\n            </ul>\n            <ul class="dates"></ul>\n        </div>\n\n        <div\n            data-bind="\n                visible: getVisibleDayChoice,\n                click: dayChoice\n            "\n            class="calendar right">\n            <ul class="week-days">\n                <li>ПН</li>\n                <li>ВТ</li>\n                <li>СР</li>\n                <li>ЧТ</li>\n                <li>ПТ</li>\n                <li>СБ</li>\n                <li>ВС</li>\n            </ul>\n            <ul class="dates"></ul>\n        </div>\n\n        <div data-bind="visible: getVisibleBlueZone" class="blue-zone">\n            <div class="from">\n                <label class="empty-label"></label>\n                <label data-bind="text: getFromDateLabel" class="date-label"></label>\n                <button class="choice-time" type="button">00:00</button>\n                <div class="time-choice  w-popup">\n                    <ul>\n                    </ul>\n                </div>\n            </div>\n            <div class="to">\n                <label class="empty-label"></label>\n                <label data-bind="text: getToDateLabel" class="date-label"></label>\n                <button class="choice-time" type="button">00:00</button>\n                <div class="time-choice w-popup">\n                    <ul>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e,n){n(3),n(24),n(26),n(28);var i=n(2),a=n(30),o=n(4);t.exports=function(t,e){var n,s={selector:t.selector,log:t.log,pos:{x:t.pageX||0,y:t.pageY||0},buttons:t.buttons||[],title:t.title,template:t.template,fields:t.fields,callback:function(t){"function"==typeof e&&e(t),n.destroy()}};return(n=function(t){var e,n=i.anyWidgetInitialActions(t);if(!n)return null;i.initTemplates(n,a,"#rc-buttons-template",!1,[{templateName:"rc-buttons-button-item-template",userTemplate:t.template}]);var s={isDark:t.isDark,fields:t.fields,title:t.title,buttons:t.buttons,onButtonClick:function(t){e=t.data.slug,o.performClose(n)},onClose:function(){t.callback(e),e=null},init:function(){o.onCloseSetup(t,n,this.onClose.bind(this))},show:function(){o.show(n,!1,t.pos)},destroy:function(){o.destroy(n,"rc-buttons-button-item-template")}};return i.bindViewModel(n,s)}(s)).show(),n}},function(t,e,n){var i=n(25);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(27);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(29);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<script id="rc-buttons-button-item-template" type="text/x-kendo-template">\n    <li data-bind="click: onButtonClick">\n        <div>#: name #</div>\n    </li>\n<\/script>\n<div id=\'rc-buttons-template\'>\n    <div class="rc-buttons w-popup">\n        <label class="title" data-bind="text: title"></label>\n        <ul data-template="rc-buttons-button-item-template"\n            data-bind="source: fields"\n            class="fields"></ul>\n        <ul data-template="rc-buttons-button-item-template"\n            data-bind="source: buttons"\n            class="buttons"\n        ></ul>\n    </div>\n</div>\n'},function(t,e,n){function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(3),n(32),n(34),n(36);var a=n(2),o=n(5),s=n(4),l=n(38);t.exports=function(t,e){var n,r={selector:t.selector,log:t.log,description:t.description,title:t.title,callback:function(t){e(t),n.destroy()}};return(n=function(t){var e,n=a.anyWidgetInitialActions(t);if(!n)return null;a.initTemplates(n,l,"#rc-addvideo-template",!0);var r=o.video.services,c=(i(e={},"yandex-music-track",function(t){return"".concat(t[2],"/").concat(t[1])}),i(e,"yandex-music-playlist",function(t){return"".concat(t[1],"/").concat(t[2])}),i(e,"giphy",function(t){return t[1]||t[2]}),e),d={getHtml:a.getHtml,title:t.title||"Прикрепить видео",description:t.description||"YouTube, Vimeo, Twitch, Coub, VK, Gfycat, Imgur, Giphy, OK",url:"",searchVideoTimeout:null,video:{},getRemoteId:function(t,e){var n=c[t];return a.isFunction(c[t])&&n(e)||e[1]},getHtmlWithEmbedId:function(t,e){return r[t].html.replace(/<\%\= remote\_id \%\>/g,e)},urlPastedCallback:function(t,e){var i=e.regex.exec(t),a=this.getRemoteId(e.type,i);this.video={source:e.type,remote_id:a,url:t,height:r[e.type].height,width:r[e.type].width,caption:""},s.performClose(n)},searchVideo:function(){var t=this;this.searchVideoTimeout&&clearTimeout(this.searchVideoTimeout),this.searchVideoTimeout=setTimeout(function(){var e=t.get("url"),n=o.video.pastePatterns.find(function(t){return t.regex.test(e)});n&&t.urlPastedCallback(e,n)},300)},close:function(){s.performClose(n)},onClose:function(){t.callback(this.get("video"))},init:function(){s.onCloseSetup(t,n,this.onClose.bind(this))},show:function(){s.show(n,!0),setTimeout(function(){n.find("input").focus()},100)},destroy:function(){s.destroy(n)}};return a.bindViewModel(n,d)}(r)).show(),n}},function(t,e,n){var i=n(33);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(35);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(37);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<div id=\'rc-addvideo-template\'>\n    <div class="rc-addvideo w-popup">\n        <button\n            style="display: none;"\n            class="close-button"\n            data-bind="click: close,"\n            rc-tooltip="Закрыть"\n            type="button">\n            <i class="material-icons">\n                close\n            </i>\n        </button>\n\n        <h2\n            data-bind="text: title"\n            class="title">Прикрепить видео</h2>\n\n        <label\n            data-bind="text: description"\n            class="description">YouTube, Vimeo, Twitch, Coub, VK, Gfycat, Imgur, Giphy, OK</label>\n\n        <div>\n            <label class="input-with-icon url-panel">\n                <i class="material-icons icon">\n                    search\n                </i>\n                <input\n                    data-bind="\n                        value: url,\n                        events: {\n                            keyup: searchVideo,\n                            change: searchVideo,\n                        }\n                    "\n                    data-value-update="keyup"\n                    class="simple-input" placeholder="Ссылка" type="text">\n                <i class="line"></i>\n            </label>\n        </div>\n\n        <div class="bottom">\n            <div class="bottom-buttons">\n                <button\n                    data-bind="click: close"\n                    class="white-button" type="button">Отмена\n                </button>\n            </div>\n        </div>\n\n    </div>\n</div>\n'},function(t,e,n){n(3),n(40),n(42),n(44);var i=n(2),a=n(46),o=n(4);t.exports=function(t,e){var n,s={selector:t.selector,log:t.log,getCountries:t.getCountries,getAreas:t.getAreas,getCities:t.getCities,maxValuesCount:t.maxValuesCount,help:t.help||"",popupMode:!0,choiceMode:t.choiceMode||2,description:t.description||"Получите города или области",title:t.title||"Выберите города или области",cities:t.cities||[],areas:t.areas||[],callback:function(t,i){e(t,i),n.destroy()}};return(n=function(t){var e,n=i.anyWidgetInitialActions(t);if(!n)return null;i.initTemplates(n,a,"#rc-city-template",!0);var s={popupMode:!!t.popupMode,choiceMode:t.choiceMode||1,withAreasMode:function(){return 2===this.get("choiceMode")},maxValuesCount:t.maxValuesCount||null,description:t.description||"",help:t.help||"",title:t.title||"",countries:[],selectedCountryId:null,checkCountryIsActive:function(t){return t.Id===this.get("selectedCountryId")},getCountries:function(){var e=this;if(this.set("selectedAreaId",null),this.set("selectedCountryId",null),!t.getCountries)return!1;t.getCountries({},function(t){e.set("countries",t),t.length&&(e.set("selectedCountryId",t[0].Id),e.getAreas())})},selectCountry:function(t){this.set("searchStr",""),this.set("selectedCountryId",t.data.Id),this.getAreas()},areas:[],selectedAreaId:null,checkAreaIsActive:function(t){return t.Id===this.get("selectedAreaId")},openArea:function(t){this.set("selectedAreaId",t.data.Id),this.getCities()},selectArea:function(t){if(-1!==this.selectedAreasIds.indexOf(t.data.Id))return this.unselectArea(t),!1;this.selectedAreasIds.push(t.data.Id),this.selectedAreas.push(t.data)},unselectArea:function(t){this.set("selectedAreasIds",this.get("selectedAreasIds").filter(function(e){return e!==t.data.Id})),this.set("selectedAreas",this.get("selectedAreas").filter(function(e){return e.Id!==t.data.Id}))},getAreas:function(){var e=this;return this.get("selectedCountryId")?!!t.getAreas&&void t.getAreas({CountryId:this.get("selectedCountryId")},function(t){t.unshift({Id:null,Title:"Все города",CountryId:e.get("selectedCountryId"),Code:"All cities"}),e.set("areas",t),t.length&&e.getCities()}):(this.set("areas",[]),this.set("selectedAreaId",null),!1)},checkAreaIsSelected:function(t){return-1!==this.get("selectedAreasIds").indexOf(t.Id)},cities:[],allCities:[],getCities:function(){var e=this;if(this.set("cities",[]),!t.getCities)return!1;t.getCities({CountryId:this.get("selectedCountryId"),RegionId:this.get("selectedAreaId")},function(t){e.get("selectedAreaId")||e.set("allCities",t),e.set("cities",t)})},selectCity:function(t){this.maxValuesCount&&this.selectedCitiesIds.length>=this.maxValuesCount&&(this.selectedCitiesIds.pop(),this.selectedCities.pop()),this.selectedCitiesIds.unshift(t.data.Id),this.selectedCities.unshift(t.data)},unselectCity:function(t){this.set("selectedCitiesIds",this.get("selectedCitiesIds").filter(function(e){return e!==t.data.Id})),this.set("selectedCities",this.get("selectedCities").filter(function(e){return e.Id!==t.data.Id}))},checkCitySelected:function(t){return-1!==this.get("selectedCitiesIds").indexOf(t.Id)},searchStr:"",searchCityTimeout:null,searchCity:function(){var t=this;this.set("selectedAreaId",null),this.searchCityTimeout&&clearTimeout(this.searchCityTimeout),this.searchCityTimeout=setTimeout(function(){var e=t.searchStr.toLowerCase().trim();t.set("cities",t.get("allCities").filter(function(t){return-1!==t.Title.toLowerCase().trim().indexOf(e)}))},300)},selectedAreasIds:t.areas?t.areas.map(function(t){return t.Id}):[],selectedAreas:t.areas?t.areas:[],selectedCitiesIds:t.cities?t.cities.map(function(t){return t.Id}):[],selectedCities:t.cities?t.cities:[],saveIt:function(){e=!0,o.performClose(n)},close:function(){o.performClose(n)},onClose:function(){e?t.callback(this.get("selectedCities"),this.get("selectedAreas")):t.callback()},init:function(){o.onCloseSetup(t,n,this.onClose.bind(this)),this.popupMode&&n.find(".w-popup").addClass("no-close"),this.getCountries()},show:function(){o.show(n,!0,null,!0)},destroy:function(){o.destroy(n)}};return i.bindViewModel(n,s)}(s)).show(),n}},function(t,e,n){var i=n(41);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(43);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(45);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<div id=\'rc-city-template\'>\n    <div\n        data-bind="\n            css: {\n                popup-mode: popupMode\n            }\n        "\n        class="rc-city w-popup"\n    >\n        <button\n            style="display: none;"\n            class="close-button"\n            data-bind="\n                visible: popupMode,\n                click: close,\n            "\n            rc-tooltip="Закрыть"\n            type="button">\n            <i class="material-icons">\n                close\n            </i>\n        </button>\n\n        <h2\n            data-bind="text: title"\n            class="title">Выбор города</h2>\n        <label\n            data-bind="text: description"\n            class="description">Выберите города, который вы хотите читать в ленте.</label>\n\n        <div class="colomns">\n            <div>\n                <script id="widget-city-country-item-template" type="text/x-kendo-template">\n                    <li\n                        data-bind="\n                            click: selectCountry,\n                            css: {\n                                active: checkCountryIsActive\n                            }\n                        "\n                        title="#: Code #"\n                    >#: Title #</li>\n                <\/script>\n\n                <ul\n                    data-template="widget-city-country-item-template"\n                    data-bind="source: countries"\n                >\n                </ul>\n\n\n                <script id="widget-city-area-item-template" type="text/x-kendo-template">\n                    <li\n                        data-bind="\n                            click: openArea,\n                            css: {\n                                left-button: withAreasMode,\n                                with-button: withAreasMode,\n                                active: checkAreaIsActive,\n                                selected: checkAreaIsSelected,\n                            }\n                        "\n                        title="#: Code #"\n                    >\n                        # if (Id) { #\n                        <button\n                            data-bind="\n                                click: selectArea,\n                                visible: withAreasMode\n                            "\n                            type="button">\n                            <i class="material-icons add">\n                                add\n                            </i>\n                            <i class="material-icons remove">\n                                remove\n                            </i>\n                        </button>\n                        # } #\n                        #: Title #\n                    </li>\n                <\/script>\n\n                <ul\n                    data-template="widget-city-area-item-template"\n                    data-bind="source: areas"\n                >\n                </ul>\n            </div>\n\n            <div>\n                <script id="widget-city-city-item-template" type="text/x-kendo-template">\n                    <li\n                        data-bind="\n                            click: selectCity,\n                            invisible: checkCitySelected\n                        "\n                        title="#: Code #"\n                    >#: Title #</li>\n                <\/script>\n                <ul\n                    data-template="widget-city-city-item-template"\n                    data-bind="source: cities">\n                </ul>\n            </div>\n\n            <div>\n                <label class="input-with-icon search-panel">\n                    <i class="material-icons icon">\n                        search\n                    </i>\n                    <input\n                        data-bind="\n                        value: searchStr,\n                        events: {\n                                keyup: searchCity,\n                                change: searchCity,\n                            }\n                        "\n                        data-value-update="keyup"\n                        class="simple-input" name="city" placeholder="Поиск города" type="text">\n                    <i class="line"></i>\n                </label>\n\n                <label class="small-gray-label">Выбрано:</label>\n\n                <script id="widget-city-selected-city-item-template" type="text/x-kendo-template">\n                    <li class="with-button right-button">\n                        #: Title #\n\n                        <button\n                            data-bind="\n                                click: unselectCity\n                            "\n                            type="button">\n                            <i class="material-icons">\n                                close\n                            </i>\n                        </button>\n                    </li>\n                <\/script>\n\n\n                <ul\n                    data-template="widget-city-selected-city-item-template"\n                    data-bind="source: selectedCities"\n                >\n                </ul>\n\n                <script id="widget-city-selected-area-item-template" type="text/x-kendo-template">\n                    <li\n                        class="with-button right-button">\n                        #: Title #\n\n                        <button\n                            data-bind="\n                                click: unselectArea\n                            "\n                            type="button">\n                            <i class="material-icons">\n                                close\n                            </i>\n                        </button>\n                    </li>\n                <\/script>\n\n\n                <ul\n                    data-template="widget-city-selected-area-item-template"\n                    data-bind="source: selectedAreas"\n                >\n                </ul>\n            </div>\n        </div>\n\n        <div class="bottom">\n            <p class="small-text">\n                <span data-bind="html: help" ></span>\n            </p>\n\n            <div class="bottom-buttons">\n                <button\n                    data-bind="\n                        click: close\n                    "\n                    class="white-button lite-mode" type="button">Отмена\n                </button>\n\n                <button\n                    data-bind="\n                        click: saveIt\n                    "\n                    class="white-button" type="button">Сохранить\n                </button>\n            </div>\n        </div>\n\n    </div>\n</div>\n'},function(t,e,n){n(3),n(48),n(50),n(52);var i=n(2),a=n(54),o=n(4),s=function(t){var e=i.anyWidgetInitialActions(t);if(!e)return null;i.initTemplates(e,a,"#rc-field-template",!0);var n={value:null,help:"",type:"text",placeholder:"",minlength:"",maxlength:"",closeIt:function(){var e=0,n=this.get("value"),a=t.field;if("text"===a.Type){var o=a.Maxlength,s=a.Minlength;o&&n&&!Number.isNaN(o)&&o<n.length&&(e++,i.log("Длина текста не может быть больше ".concat(o))),s&&!Number.isNaN(s)&&(!n||s>n.length)&&(e++,i.log("Минимальное количество символов не может быть меньше ".concat(s)))}var l=function(t,o,s,l){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Не правильно введена дата. См формат данных",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Дата не может быть позже ",d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"Дата не может быть раньше ";n&&a.Type===t&&(function(t,e){return t&&(-1!==t.indexOf("_")||"Invalid date"!==moment(t,e).format())}(n,o)||(e++,i.log(r)),!e&&a[s]&&moment(n,o).diff(moment(a[s],o))>0&&(e++,i.log(c+a[s])),!e&&a[l]&&moment(n,o).diff(moment(a[l],o))<0&&(e++,i.log(d+a[l])))};l("date","YYYY-MM-DD","MaxDate","MinDate"),l("datetime","YYYY-MM-DD HH:mm","MaxDatetime","MinDatetime"),l("time","HH:mm","MaxTime","MinTime","Не правильно введено время. См формат данных","Время не может быть позже ","Время не может быть раньше ");var r=function(t,o,s){"integer"!==t||"integer"!==a.Type||Number.isInteger(n)||(e++,i.log("Число должно быть целым")),n&&a.Type===t&&(a[o]&&a[o]<n&&(e++,i.log("Максимальное значение ".concat(a[o]))),a[s]&&a[s]>n&&(e++,i.log("Минимальное значение ".concat(a[s]))))};if(r("integer","MaxI","MinI"),r("float","MaxF","MinF"),e)return!1;t.callback&&t.callback(n)},onKeypress:function(e){var n,i;"integer"===t.field.Type&&(n=e,i=parseInt(n.keyCode),[8,9,27,13,110,190].includes(i)||65===i&&!0===n.ctrlKey||i>=35&&i<=39||((n.shiftKey||i<48||i>57)&&(i<96||i>105)||101===i)&&n.preventDefault())},init:function(){var n=this,i=e.find("input");-1!==["text","date","datetime","time"].indexOf(t.field.Type)&&i.attr("type","text"),-1!==["integer","float"].indexOf(t.field.Type)&&i.attr("type","number"),t.field.Placeholder&&i.attr("placeholder",t.field.Placeholder),t.field.Mask&&i.kendoMaskedTextBox({mask:t.field.Mask}),"date"===t.field.Type&&(i.attr("placeholder","ГГГГ-ММ-ДД"),i.kendoMaskedTextBox({mask:"9999-99-99"})),"datetime"===t.field.Type&&(i.attr("placeholder","ГГГГ-ММ-ДД ЧЧ:мм"),i.kendoMaskedTextBox({mask:"9999-99-99 99:99"})),"time"===t.field.Type&&(i.attr("placeholder","ЧЧ:мм"),i.kendoMaskedTextBox({mask:"99:99"})),t.field.Maxlength&&i.attr("maxlength",t.field.Maxlength),t.field.Maxlength&&i.attr("minlength",t.field.Minlength),"float"===t.field.Type&&i.attr("step","any"),t.field.Tooltip&&this.set("help",t.field.Tooltip),t.callback&&e.find(".w-popup").on("onClose",function(){t.callback(n.get("value"))}),e.find(".w-popup-background").on("click",function(){n.closeIt()}),i.on("keypress",function(t){13===t.keyCode&&setTimeout(function(){n.closeIt()})})},show:function(){o.show(e,!1,t.pos),setTimeout(function(){e.find("input").focus()},200)},destroy:function(){e.find(".rc-field .w-popup-background").off("click"),o.destroy(e)}};return i.bindViewModel(e,n)};t.exports=function(t,e){var n;if(!t.field)return!1;t.field.Placeholder||(t.field.Placeholder="");var i={selector:t.selector,log:t.log,pos:{x:t.pageX||0,y:t.pageY||0},field:t.field,callback:function(t,i){e(t,i),n.destroy()}};return(n=s(i)).show(),n}},function(t,e,n){var i=n(49);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(51);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(53);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<div id=\'rc-field-template\'>\n    <div class="rc-field w-popup popup-mode">\n        <div class="container">\n            <div\n                data-bind="\n                    html: help,\n                    visible: help\n                "\n                class="help"></div>\n\n            <input\n                data-bind="\n                    value: value,\n                    events: {\n                        keypress: onKeypress\n                    }\n                "\n                type="text"\n                class="simple-input"/>\n        </div>\n    </div>\n</div>\n'},function(t,e,n){n(3),n(56),n(58),n(60);var i=n(2),a=n(62),o=n(4);t.exports=function(t){var e,n={selector:t.selector,log:t.log,href:t.href,fileType:t.fileType||"jpg",headerInfo:t.headerInfo||"",getHeaderInfo:t.getHeaderInfo,pdfWorkerUrl:t.pdfWorkerUrl,name:t.fileName||"",pos:{x:t.pageX||0,y:t.pageY||0},callback:function(){e.destroy()}};return(e=function(t){var e=i.anyWidgetInitialActions(t);if(!e)return null;i.initTemplates(e,a,"#rc-file-preview-template",!0);var n={name:"",href:"",type:"",checkLiteMode:function(){return!this.getHeaderInfo().trim().length},headerInfo:t.headerInfo||"",getHeaderInfo:function(){return this.get("headerInfo")},inLoadProcess:!1,zoom:1.4,checkDisabledZoomMin:function(){return 1.4===this.get("zoom")},checkDisabledZoomMax:function(){return 2.5===this.get("zoom")},pdfZoom:function(){return this.get("zoom")/2},scaleZoom:function(){return"scale("+this.get("zoom")+")"},pdfScaleZoom:function(){return"scale("+this.get("zoom")/2+")"},zoomIn:function(){this.set("zoom",Math.min(2.5,this.get("zoom")+.2));var t=e.find(".rc-file-preview > .body");t.scrollLeft(1e4).scrollLeft(t.scrollLeft()/2)},zoomOut:function(){this.set("zoom",Math.max(.5,this.get("zoom")-.2));var t=e.find(".rc-file-preview > .body");t.scrollLeft(1e4).scrollLeft(t.scrollLeft()/2)},isViewable:!1,imgSrc:"",page:1,pageCount:1,getPageLabel:function(){return"Страница "+this.get("page")+" из "+this.get("pageCount")},isPdf:function(){return!this.get("inLoadProcess")&&"pdf"===this.get("type").toLowerCase()},pdfInit:function(e){var n=this,i=window.pdfjsLib,a=document.getElementById("rc-file-preview-pdf-canvas"),o=a.getContext("2d");i.GlobalWorkerOptions.workerSrc=t.pdfWorkerUrl;var s=null,l=1,r=!1,c=null,d=function t(e){r=!0,s.getPage(e).then(function(e){var n=e.getViewport(4);a.height=n.height,a.width=n.width;var i={canvasContext:o,viewport:n};e.render(i).promise.then(function(){r=!1,null!==c&&(t(c),c=null)})}),n.set("page",e)},u=function(t){r?c=t:d(t)};$("#rc-file-review-pdf-paginator .prev").off("click").on("click",function(){l<=1||u(--l)}),$("#rc-file-review-pdf-paginator .next").off("click").on("click",function(){l>=s.numPages||u(++l)}),this.set("inLoadProcess",!0),i.getDocument(e).then(function(t){s=t,n.set("pageCount",s.numPages),n.set("inLoadProcess",!1),d(l)})},getPrintLink:function(){return this.get("href")+"&printIt=true"},close:function(){o.performClose(e)},onClose:function(){t.callback()},init:function(){this.set("name",t.name),this.set("href",t.href),this.set("type",t.fileType),this.set("authorName",t.authorName),this.set("created",t.created),this.set("geoLocationDescription",t.geoLocationDescription),-1!==["jpg","jpeg","png","gif","webp","svg"].indexOf(t.fileType.toLowerCase())?(this.set("isViewable",!0),$(document).width()<=1400&&this.set("zoom",1.2),$(document).width()<=950&&this.set("zoom",1),this.set("imgSrc",t.href)):(-1!==["pdf"].indexOf(t.fileType.toLowerCase())&&this.pdfInit(t.href),this.set("isViewable",!1),this.set("imgSrc","")),o.onCloseSetup(t,e,this.onClose.bind(this))},show:function(){o.show(e,!1,t.pos)},destroy:function(){o.destroy(e)}};return t.getHeaderInfo&&(n.getHeaderInfo=t.getHeaderInfo),i.bindViewModel(e,n)}(n)).show(),e}},function(t,e,n){var i=n(57);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(59);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(61);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<div id=\'rc-file-preview-template\'>\n    <div\n        data-bind="\n            css: {\n                light-mode: checkLiteMode\n            }\n        "\n        class="rc-file-preview w-popup ">\n        <div class="head">\n            <label\n                data-bind="text: name"\n                class="name"></label>\n\n            <button\n                rc-tooltip="Закрыть"\n                data-bind="click: close"\n                class="close">\n                <i class="material-icons">\n                    close\n                </i>\n            </button>\n\n            <div class="left-block">\n                <div\n                    data-bind="html: getHeaderInfo"\n                ></div>\n            </div>\n\n\n            \x3c!-- PDF --\x3e\n            <div class="center-button-panel">\n                <div\n                    data-bind="\n                        visible: isPdf\n                    "\n                    class="paginator" id="rc-file-review-pdf-paginator">\n                    <button\n                        class="prev"\n                        type="button">\n                        <i class="material-icons">\n                            keyboard_arrow_left\n                        </i>\n                    </button>\n                    <label data-bind="text: getPageLabel"></label>\n                    <button\n                        class="next"\n                        type="button">\n                        <i class="material-icons">\n                            keyboard_arrow_right\n                        </i>\n                    </button>\n                </div>\n\n                <button\n                    data-bind="\n                        invisible: isViewable,\n                        disabled: checkDisabledZoomMin,\n                        click: zoomOut\n                    "\n                    type="button">\n                    <i class="material-icons">\n                        zoom_out\n                    </i>\n                </button>\n                <button\n                    data-bind="\n                        invisible: isViewable,\n                        disabled: checkDisabledZoomMax,\n                        click: zoomIn\n                    "\n                    type="button">\n                    <i class="material-icons">\n                        zoom_in\n                    </i>\n                </button>\n\n            </div>\n\n            <div\n                class="right-button-panel">\n                \x3c!-- <a\n                    data-bind="\n                        attr: {\n                            href: getPrintLink\n                        }\n                    "\n                    target="_blank"\n                    href="">\n                    <i class="material-icons">\n                        print\n                    </i>\n                </a> --\x3e\n                <a\n                    data-bind="\n                        attr: {\n                            href: href\n                        }\n                    "\n                    target="_blank"\n                    href="">\n                    <i class="material-icons">\n                        get_app\n                    </i>\n                </a>\n            </div>\n        </div>\n        <div class="body white-scroll">\n            \x3c!-- Loader --\x3e\n            <div\n                    data-bind="visible: inLoadProcess"\n                    class="load-please-wait">\n                <div class="rc-loader">\n                    <div class="wrapper size-2">\n                        <div class="pie spinner"></div>\n                        <div class="pie filler"></div>\n                        <div class="mask"></div>\n                    </div>\n                </div>\n                <label>Подождите, файл загружается</label>\n            </div>\n\n\n            \x3c!-- Image --\x3e\n            <div\n                    data-bind="\n                    visible: isViewable\n                "\n                    class="image-preview">\n                <img\n                        data-bind="\n                        style: {\n                            zoom: zoom,\n                            -moz-transform: scaleZoom,\n                            -o-transform: scaleZoom,\n                            -webkit-transform: scaleZoom,\n                            transform: scaleZoom\n                        },\n                        attr: {\n                            src: imgSrc,\n                            alt: name\n                        }\n                    "\n                        src=""/>\n            </div>\n\n\n            \x3c!-- PDF --\x3e\n            <div\n                    data-bind="\n                    visible: isPdf\n                "\n                    class="pdf-preview"\n            >\n                <div\n                        data-bind="\n                        style: {\n                            zoom: pdfZoom,\n                            -moz-transform: pdfScaleZoom,\n                            -o-transform: pdfScaleZoom,\n                            -webkit-transform: pdfScaleZoom,\n                            transform: pdfScaleZoom\n                        },\n                        invisible: inLoadProcess\n                    "\n                >\n                    <canvas\n                            id="rc-file-preview-pdf-canvas"></canvas>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e,n){n(3),n(64),n(66),n(68);var i=n(2),a=n(70),o=n(8),s=n(7),l=n(4),r=function(t){var e=i.anyWidgetInitialActions(t);if(!e)return null;i.initTemplates(e,a,"#rc-form-template",t.popupMode,[{templateName:"rc-form-field-item-template"},{templateName:"rc-form-button-item-template"}]);var n={isNumberKey:i.isNumberKey,popupMode:!!t.popupMode,fields:t.fields,title:t.title,description:t.description||"",buttons:t.buttons,clearField:function(t){var e=$(t.target).closest(".rc-form-field");e.find("input").length&&e.find("input").val(""),e.find("[data-format]").length&&(e.find("[data-format]").html(""),e.find("[data-format]").removeAttr("data-format")),e.find("[data-value]").length&&(e.find("[data-value]").html(""),e.find("[data-value]").removeAttr("data-value"))},setIntTimeField:function(t){if("LI"!==t.target.nodeName.toUpperCase())return!1;$(t.target).closest("div").find("input").val(parseInt($(t.target).text())).blur()},setDateToDateField:function(t){var e=$(t.target),n="";e.find("[name]").length&&(e=e.find("[name]")),e.attr("data-format")&&(n=e.attr("data-format")),o({pageX:t.pageX,pageY:t.pageY,toLabel:"Не важно",type:1,onlyDate:!0,fromLabel:"Укажите дату",to:null,from:n},function(t){if(t){var n=moment(t).format("YYYY-MM-DDT00:00:00");e.attr("data-format",n),n=moment(n),e.text(n.format("DD MMM YYYY"))}})},setAutoCompleteField:function(e){var n=this,i=$(e.target);i.find("[name]").length&&(i=i.find("[name]"));var a=[],o=[];i.attr("data-value")&&("multiValue"!==e.data.type?a.push({Id:i.attr("data-value"),Text:i.html()}):a=JSON.parse(i.attr("data-value"))),a.forEach(function(t){o.push(parseInt(t.Id))}),s({pageX:e.pageX,pageY:e.pageY,maxValuesCount:"multiValue"!==e.data.type&&1,found:o.length?e.data.found.filter(function(t){return-1===o.indexOf(t.Id)}):e.data.found,values:a,clientSearch:!0},function(a,o){var s=function(a){a&&(a.length?"multiValue"!==e.data.type?(i.attr("data-value",a[0].Id),i.html(a[0].Text)):(i.attr("data-value",JSON.stringify(a)),i.html(a.map(function(t){return t.Text}).join(", "))):("multiValue"!==t.type?i.attr("data-value",""):i.attr("data-value","[]"),i.html(""))),n.changeFields()};o&&e.data.buttons.forEach(function(t){t.slug===o&&t.callback&&t.callback(function(t){s(t)})}),s(a)})},setDateToDatetimeField:function(t){var e=$(t.target);e.find("[name]").length&&(e=e.find("[name]"));var n="";e.attr("data-format")&&(n=e.attr("data-format"));var i={pageX:t.pageX,pageY:t.pageY,toLabel:"",type:1,onlyDate:!1,fromLabel:"Укажите дату и время",to:null,from:n};t.data.regulations&&(i.regulations=t.data.regulations),t.data.autoSetTime&&(i.autoSetTime=t.data.autoSetTime),o(i,function(t){if(t){var n=moment(t).format("YYYY-MM-DDTHH:mm:00");e.attr("data-format",n),n=moment(n),e.text(n.format("DD MMM YYYY, HH:mm"))}})},files:[],addFile:function(){t.callback(this.get("fields"),"addFile")},removeFile:function(e){e.data&&t.callback(this.get("fields"),"removeFile",e)},onlyOneButton:function(){return 1===this.get("buttons").length},changeFields:function(){var t=this;this.fields.forEach(function(n){if(n.change){var i="[name=".concat(n.name,"]");switch(n.control){case"users":case"autocomplete":n.change(e.find(i).attr("data-value"),n.found,e,t);break;case"checkbox":n.change(e.find(i).prop("checked"),e,t);break;case"input":n.change(e.find(i).val(),e,t);break;case"date":n.change(e.find(i).attr("data-format"),e,t);break;case"time":n.change(parseInt(e.find("[name=".concat(n.name,"-hours]")).val()||0),parseInt(e.find("[name=".concat(n.name,"-minutes]")).val()||0),e,t);break;case"editor":n.change(e.find(i).data("kendoEditor").value(),e,t)}}})},checkFields:function(){return e.find(".rc-form-field.error").removeClass("error"),$.each(e.find(".required:not(.time-field) input"),function(t,e){$(e).val().trim().length||$(e).closest(".rc-form-field").addClass("error")}),$.each(e.find(".email input"),function(t,e){$(e).val().trim().length&&!i.checkEmail($(e).val())&&$(e).closest(".rc-form-field").addClass("error")}),this.fields.forEach(function(t){var n="[name=".concat(t.name,"]");if(t.checkValid&&!e.find(n).closest(".rc-form-field").hasClass("hidden"))switch(t.control){case"users":t.checkValid&&!t.checkValid(e.find(n).attr("data-value"),t.found,e)&&e.find(n).closest(".rc-form-field").addClass("error");break;case"checkbox":t.checkValid&&!t.checkValid(e.find(n).prop("checked"),e)&&e.find(n).closest(".rc-form-field").addClass("error");break;case"input":t.checkValid&&!t.checkValid(e.find(n).val(),e)&&e.find(n).closest(".rc-form-field").addClass("error");break;case"datetime":case"date":t.checkValid&&!t.checkValid(e.find(n).attr("data-format"),e)&&e.find(n).closest(".rc-form-field").addClass("error");break;case"time":t.checkValid&&!t.checkValid(parseInt(e.find(n).val()||0),parseInt(e.find("[name=".concat(t.name,"-minutes]")).val()||0),e)&&e.find("[name=".concat(t.name,"-hours]")).closest(".rc-form-field").addClass("error");break;case"editor":t.checkValid&&!t.checkValid(e.find("[name="+t.name+"]").data("kendoEditor").value(),e)&&e.find(n).closest(".rc-form-field").addClass("error")}}),!e.find(".rc-form-field.error").length&&(this.fields.forEach(function(t){var n="[name=".concat(t.name,"]");switch(t.control){case"textarea":t.value=e.find(n).val();break;case"input":"number"!==t.type&&"text"!==t.type&&"email"!==t.type||(t.value=e.find(n).val()),"phone"===t.type&&(t.value=e.find(n).data("kendoMaskedTextBox").value());break;case"checkbox":t.value=e.find(n).prop("checked");break;case"editor":t.value=e.find(n).data("kendoEditor").value();break;case"time":t.values={hours:parseInt(e.find("[name=".concat(v.name,"-hours]")).val()||0),minutes:parseInt(e.find("name=".concat(v.name,"-minutes]")).val()||0)};break;case"datetime":t.value=e.find(n).attr("data-format");break;case"autocomplete":t.value=[e.find(n).attr("data-value")];break;case"date":t.value=e.find(n).attr("data-format");break;case"users":t.value=JSON.parse(e.find(n).attr("data-value")||[]);break;case"dropdownlist":t.value=e.find(n)[0].value}}),!0)},onButtonClick:function(t){if(t.data.needCheck&&!this.checkFields())return!1;l.performClose(e,[this.get("fields"),t.data.slug,this.get("files")])},close:function(){l.performClose(e,[this.get("fields"),"cancel"])},updateDataForField:function(t,n){this.fields.forEach(function(i){if(t===i.name&&i.dataSource){var a=e.find("[name=".concat(i.name,"]"));a&&a.data("kendoDropDownList")&&(a.data("kendoDropDownList").setDataSource(new kendo.data.DataSource({data:n})),a.data("kendoDropDownList").enable(n&&n.length))}})},onClose:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];i&&i.length?t.callback.apply(t,i):t.callback(this.get("values"))},init:function(){l.onCloseSetup(t,e,this.onClose.bind(this)),e.find(".w-popup").addClass("no-close"),e.find(".phone input").kendoMaskedTextBox({mask:"+7 (999) 000-00-00"}),e.find(".editor").kendoEditor({tools:["bold","italic","underline","strikethrough","insertUnorderedList","insertOrderedList","createLink","cleanFormatting"],resizable:{content:!1,toolbar:!1},pasteCleanup:{all:!1,css:!0,custom:function(t){return i.pasteCleanup(t)},keepNewLines:!1,msAllFormatting:!1,msConvertLists:!0,msTags:!0,none:!1,span:!1}});$.each(e.find(".editor"),function(t,e){var n,a,o;n=e,document.createRange?((a=document.createRange()).selectNodeContents(n),a.collapse(!1),(o=window.getSelection())&&(o.removeAllRanges(),o.addRange(a))):document.selection&&((a=document.body.createTextRange()).moveToElementText(n),a.collapse(!1),a.select());var s=$(e).data("kendoEditor");if(s){var l=s.toolbar.element.closest(".k-window");s.value(i.htmlDecode(s.value(),!0)||null),l.prependTo($(e).parent()),l.addClass("fixed"),$(s.body).off("focusout.kendoEditor")}})},show:function(){l.show(e,!1,t.pos),i.checkPosition(e)},destroy:function(){e.find(".editor").length&&e.find(".editor").data("kendoEditor").destroy(),l.destroy(e)}};return i.bindViewModel(e,n)};t.exports=function(t,e){var n,i={selector:t.selector,log:t.log,pos:{x:t.pageX||0,y:t.pageY||0},popupMode:!!t.popupMode,buttons:t.buttons||[],title:t.title||"",description:t.description,fields:t.fields,callback:function(t,i){i&&"function"==typeof e&&(e(t,i),n.destroy())}};return(n=r(i)).show(),n}},function(t,e,n){var i=n(65);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(67);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(69);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<script id="rc-form-field-item-template" type="text/x-kendo-template">\n    <div class="\n        rc-form-field\n        # if (typeof(className) != \'undefined\') { # #: className # # } #\n        # if ((typeof(hidden) != \'undefined\') && (hidden) ) { # hidden # } #\n        # if (required) { # required # } #\n        #: control #-field\n    " style="">\n\n        # if (control == \'editor\') { #\n        <div\n            placeholder="#: title #"\n            name="#: name #"\n            class="editor"\n        >#: value #</div>\n        # } #\n\n        # if (control == \'time\') { #\n        <label data-bind="text: title"></label>\n        <div>\n            <div>\n                <input\n                    placeholder="0"\n                    value="#: values.hours #"\n                    type="numeric"\n                    onkeypress="return isNumberKey(event)"\n                    name="#: name#-hours" />\n                <ul\n                    class="white-scroll"\n                    data-bind="\n                        events: {\n                            mousedown: setIntTimeField\n                        }\n                    ">\n                    <li>1</li>\n                    <li>2</li>\n                    <li>3</li>\n                    <li>4</li>\n                    <li>5</li>\n                    <li>6</li>\n                    <li>7</li>\n                    <li>8</li>\n                    <li>9</li>\n                    <li>10</li>\n                    <li>11</li>\n                    <li>12</li>\n                    <li>13</li>\n                    <li>14</li>\n                    <li>15</li>\n                    <li>16</li>\n                    <li>17</li>\n                    <li>18</li>\n                    <li>19</li>\n                    <li>20</li>\n                    <li>21</li>\n                    <li>22</li>\n                    <li>23</li>\n                    <li>24</li>\n                    <li>25</li>\n                </ul>\n\n                <span>ч</span>\n            </div>\n            <div>\n                <input\n                    placeholder="0"\n                    value="#: values.minutes #"\n                    type="numeric"\n                    onkeypress="return isNumberKey(event)"\n                    name="#: name#-minutes" />\n                <ul\n                    class="white-scroll"\n                    data-bind="\n                        events: {\n                            mousedown: setIntTimeField\n                        }\n                    ">\n                    <li>5</li>\n                    <li>10</li>\n                    <li>15</li>\n                    <li>20</li>\n                    <li>25</li>\n                    <li>30</li>\n                    <li>35</li>\n                    <li>40</li>\n                    <li>45</li>\n                    <li>50</li>\n                    <li>55</li>\n                </ul>\n                <span>мин</span>\n            </div>\n        </div>\n        # } #\n\n        # if (control == \'date\') { #\n        <label data-bind="text: title"></label>\n        <div data-bind="click: setDateToDateField">\n            # if (value) { #\n                <span\n                    name="#: name #"\n                    data-format="#: value.format(\'YYYY-MM-DDT00:00:00\') #"\n                >\n                    #: value.format(\'DD MMM YYYY\') #\n                </span>\n            # } else { #\n                <span name="#: name #"></span>\n            # } #\n        </div>\n        # } #\n\n        # if (control == \'autocomplete\') { #\n        <label data-bind="text: title"></label>\n        <div data-bind="click: setAutoCompleteField">\n            # if (value) { #\n                <span\n                    name="#: name #"\n\n                    # if (type != \'multiValue\') { #\n                    data-value="#: value.Id  || \'\' #"\n                    # } else { #\n                    data-value="#: JSON.stringify(value) || \'[]\' #"\n                    # } #\n                >\n                        # if (type != \'multiValue\') { #\n                            #= value.Text || \'\'#\n                        # } else { #\n                            #= ($.map(value, function(item) { return item.Text })).join(\', \') #\n                        # } #\n                </span>\n            # } else { #\n                <span name="#: name #"></span>\n            # } #\n        </div>\n        # } #\n\n        # if (control == \'tree\') { #\n        <label data-bind="text: title"></label>\n        <div data-bind="click: setTreeField">\n            # if (value) { #\n                <span\n                    name="#: name #"\n\n                    # if (type != \'multiValue\') { #\n                    data-value="#: value.Id  || \'\' #"\n                    # } else { #\n                    data-value="#: JSON.stringify(value) || \'[]\' #"\n                    # } #\n                >\n                    # if (type != \'multiValue\') { #\n                        #= value.Text || \'\'#\n                    # } else { #\n                        #= ($.map(value, function(item) { return item.Text })).join(\', \') #\n                    # } #\n                </span>\n            # } else { #\n            <span\n                name="#: name #"\n            ></span>\n            # } #\n        </div>\n        # } #\n\n        # if (control == \'users\') { #\n        <label data-bind="text: title"></label>\n        <div data-bind="click: setUsersField">\n            # if (value) { #\n                <span\n                    name="#: name #"\n\n                    # if (type != \'multiValue\') { #\n                    data-value="#: value.Id  || \'\' #"\n                    # } else { #\n                    data-value="#: JSON.stringify(value) || \'[]\' #"\n                    # } #\n                >\n                    # if (type != \'multiValue\') { #\n                        #= value.Text || \'\'#\n                    # } else { #\n                        #= ($.map(value, function(item) { return item.Text })).join(\', \') #\n                    # } #\n                </span>\n            # } else { #\n                <span name="#: name #"></span>\n            # } #\n        </div>\n        # } #\n\n        # if (control == \'datetime\') { #\n        <label data-bind="text: title"></label>\n        <div data-bind="click: setDateToDatetimeField">\n            # if (value) { #\n                <span\n                    name="#: name #"\n                    data-format="#: value.format(\'YYYY-MM-DDTHH:mm:00\') #">\n                        #: value.format(\'DD MMM YYYY, HH:mm\') #\n                </span>\n            # } else { #\n                <span name="#: name #"></span>\n            # } #\n        </div>\n\n        # } #\n\n        # if (control == \'textarea\') { #\n        <label data-bind="text: title"></label>\n\n        <div>\n            <textarea\n                data-value-update="keyup"\n                data-bind="\n                    events: {\n                        change: changeFields\n                    }\n                "\n                placeholder="#: placeholder #"\n                type="#: type #"\n                name="#: name #">#: value #</textarea>\n        </div>\n        # } #\n\n        # if (control == \'input\') { #\n        <label data-bind="text: title"></label>\n\n        <div\n            # if (typeof(className) != \'undefined\') { #\n            class="#: className #"\n            # } #\n        >\n            <input\n                data-value-update="keyup"\n                data-bind="\n                    events: {\n                        change: changeFields\n                    }\n                "\n                # if (typeof(maxLength) != \'undefined\') { #\n                maxlength="#: maxLength #"\n                # } #\n                value="#: value #"\n                type="#: type #"\n                name="#: name #"/>\n        </div>\n        # } #\n\n        # if (control == \'checkbox\') { #\n        <div>\n            <input\n                # if (value) { #\n                checked\n                # } #\n\n                # if ((typeof(className) != \'undefined\' && className == "disabled") || (typeof(disabled) != \'undefined\' && disabled)) { #\n                disabled="disable"\n                # } #\n\n                data-bind="\n                    events: {\n                        change: changeFields\n                    }\n                "\n                type="checkbox"\n                name="#: name #"\n                id="rc-form-#: name #"/>\n            <label\n                data-bind="text: title"\n                for="rc-form-#: name #"></label>\n        </div>\n        # } #\n\n        # if (control == \'dropdownlist\') { #\n        <label data-bind="text: title"></label>\n        <input class="dropdown-list"\n               name="#: name #"\n               data-role="dropdownlist"\n               data-bind="\n                    source: dataSource,\n                    value: dataValue,\n                    events: {\n                        change: dataChange\n                    }\n               "\n               data-text-field="#: dataTextField #"\n               data-value-field="#: dataValueField #"\n        />\n        # } #\n\n        # if ((typeof(clearButton) != \'undefined\') && clearButton) { #\n        <button\n            data-bind="click: clearField"\n            type="button"\n            rc-tooltip="Очистить"\n            class="clear-button">\n            <i class="roscomputing-icon-clear-small"></i>\n        </button>\n        # } #\n\n        # if (control == \'addFileButton\') { #\n        <button\n            data-bind="click: addFile"\n            type="button"\n            rc-tooltip="добавить файл"\n            class="add-file-button">\n            добавить файл\n        </button>\n        <div\n            data-template="ic-files-item-template-short-preview"\n            data-bind="source: files"\n        >\n        </div>\n        # } #\n    </div>\n<\/script>\n\n<script id="rc-form-button-item-template" type="text/x-kendo-template">\n    <li\n        data-bind="click: onButtonClick"\n    >\n        #: name #\n    </li>\n<\/script>\n\n<div id=\'rc-form-template\'>\n    <div\n        data-bind="\n            css: {\n                popup-mode: popupMode\n            }\n        "\n        class="rc-form w-popup">\n\n        <button\n            style="display: none;"\n            class="close-button"\n            data-bind="\n                visible: popupMode,\n                click: close\n            "\n            rc-tooltip="Закрыть"\n            type="button">\n            <i class="roscomputing-icon-close-big"></i>\n        </button>\n\n        <label class="title" data-bind="\n            visible: title,\n            text: title\n        "></label>\n\n        <div\n            data-bind="\n                visible: description,\n                html: description\n            "\n            class="description">\n\n        </div>\n\n        <div\n            data-template="rc-form-field-item-template"\n            data-bind="source: fields"\n            class="fields"\n        ></div>\n\n        <ul\n            data-template="rc-form-button-item-template"\n            data-bind="\n                css: {\n                    only-one-button: onlyOneButton\n                },\n                source: buttons\n            "\n\n                class="buttons"\n        ></ul>\n\n    </div>\n</div>\n'},function(t,e,n){n(3),n(72),n(74),n(76);var i=n(2),a=n(78),o=n(4);t.exports=function(t,e){var n,s={selector:t.selector,log:t.log,pos:{x:t.pageX||0,y:t.pageY||0},title:t.title||"",popupMode:!!t.popupMode,buttons:t.buttons,class:t.class||"",actionButtons:t.actionButtons||[],onlyBackgroundClose:!!t.onlyBackgroundClose,callback:function(t,i){e(t,i),i&&i.dontClose||n.destroy()}};return(n=function(t){var e=i.anyWidgetInitialActions(t);if(!e)return null;i.initTemplates(e,a,"#rc-select-template",t.popupMode,[{templateName:"rc-select-item-template"}]);var n={popupMode:!!t.popupMode,title:t.title||"",buttons:t.buttons,actionButtons:t.actionButtons||[],actionButtonsVisible:function(){return this.get("actionButtons").length},onButtonClick:function(n){var i=$(n.target);i.closest(".rc-select").find(".active").removeClass("active"),i.closest("li").addClass("active"),t.onlyBackgroundClose?t.callback(n.data,{dontClose:!0}):o.performClose(e,[n.data])},close:function(){o.performClose(e)},onClose:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];t.callback.apply(t,i)},init:function(){o.onCloseSetup(t,e,this.onClose.bind(this)),this.popupMode&&e.find(".w-popup").addClass("no-close")},show:function(){var n=e.find("> .w-popup");o.show(e,this.popupMode,t.pos,this.popupMode),t.pos&&this.updateHeight(n,n,t.pos),t.class&&e.find("> .w-popup > ul").addClass(t.class)},destroy:function(){o.destroy(e)},updateHeight:function(t,e,n){if(t&&e&&n){var i=n.height||440,a=Math.max(Math.min(n.y-180,$(window).height()-i),50);a+e.outerHeight()>$(window).height()&&(i=$(window).height()-a,$(t).css("height",i))}}};return i.bindViewModel(e,n)}(s)).show(),n}},function(t,e,n){var i=n(73);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(75);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(77);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<script id="rc-select-item-template" type="text/x-kendo-template">\n    <li\n        class="\n            # if (typeof(classname) != \'undefined\') { #\n                #: classname #\n            # } #\n            # if (typeof(disabled) != \'undefined\' && disabled) { #\n                disabled\n            # } #\n            # if (typeof(active) != \'undefined\' && active) { #\n                active\n            # } #\n        "\n        data-slug="#: slug #"\n        data-bind="click: onButtonClick"\n    >\n        # if (typeof(icon) != \'undefined\') { #\n        <i class="material-icons icon">\n            #: icon #\n        </i>\n        # } #\n        # if (typeof(img) != \'undefined\') { #\n        <img\n            src="#: img #"\n            # if (typeof(tooltip) != \'undefined\') { #\n            alt="#: tooltip #"\n            # } else {#\n            alt="#: name #"\n            # } #/>\n        # } #\n        #= name #\n    </li>\n<\/script>\n\n<div id=\'rc-select-template\'>\n    <div\n        data-bind="\n            css: {\n                popup-mode: popupMode\n            }\n        "\n        class="rc-select w-popup white-scroll"\n    >\n\n        <button\n            style="display: none;"\n            class="close-button"\n            data-bind="\n                visible: popupMode,\n                click: close\n            "\n            rc-tooltip="Закрыть"\n            type="button">\n            <i class="material-icons">\n                close\n            </i>\n        </button>\n\n        <label class="title"\n               data-bind="\n                   visible: title,\n                   text: title\n               "\n        ></label>\n\n        <ul\n            data-template="rc-select-item-template"\n            data-bind="source: buttons"\n            class="buttons"\n        ></ul>\n\n        <ul\n            data-template="rc-select-item-template"\n            data-bind="\n                visible: actionButtonsVisible,\n                source: actionButtons\n            "\n            class="action-buttons"\n        ></ul>\n    </div>\n</div>\n'},function(t,e,n){n(3),n(80),n(82),n(84);var i=n(2),a=n(86);$(document).ready(function(){var t=null;$(document).on("mouseenter",".rc-tooltip",function(){clearTimeout(t)}),$(document).on("mouseenter","[rc-tooltip]",function(e){clearTimeout(t),t=setTimeout(function(){var t=$(".rc-tooltip");if(t.hasClass("move-mode"))return!0;var n=$(e.target).closest("[rc-tooltip]").attr("rc-tooltip")||"";if(!n.trim().length)return t.hide(),!1;t.html(n),t.show();var i=e.clientX;i+t.outerWidth()>$(window).width()&&(i-=20+t.outerWidth());var a=e.clientY+10;a+t.outerHeight()>$(window).height()&&(a-=40+t.outerHeight()),t.css("left",i),t.css("top",a)},400)}),$(document).on("mouseleave","[rc-tooltip], .rc-tooltip",function(){clearTimeout(t);var e=function(){var t=$(".rc-tooltip");t.hide(),t.css("left","-1000px")};$(".rc-tooltip a").length?t=setTimeout(e,1e3):e()})});t.exports=function(t){!function(t){var e=i.anyWidgetInitialActions(t);if(!e)return null;e.append(a)}({selector:t.selector,log:t.log})}},function(t,e,n){var i=n(81);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(83);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(85);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<div class="rc-tooltip"></div>\n'},function(t,e,n){function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n(3),n(88),n(90),n(92);var a=n(2),o=n(94),s=n(4);t.exports=function(t,e){var n,l={selector:t.selector,log:t.log,pos:{x:t.pageX||0,y:t.pageY||0},url:t.url,className:t.className,onAjaxSuccess:t.onAjaxSuccess,values:t.values||[],data:t.data||[],getAjaxData:t.getAjaxData,maxValuesCount:t.maxValuesCount,method:t.method,template:t.template,callback:function(t,i){e(t,i),n.destroy()}};(n=function(t){var e=a.anyWidgetInitialActions(t);if(!e)return null;a.initTemplates(e,o,"#rc-tree-template",!1,[{templateName:"rc-tree-item-template",userTemplate:t.template}]),t.className&&e.addClass(t.className);var n={showLoader:!1,valuesIds:[],values:[],checkSelected:function(t){return-1!==this.get("valuesIds").indexOf(t.id)},maxValuesCount:t.maxValuesCount,onSelect:function(e){return!(!e||!e.data||(-1!==this.get("valuesIds").indexOf(e.data.id)?(this.set("values",this.get("values").filter(function(t){return t.id!==e.data.id})),this.set("valuesIds",this.get("valuesIds").filter(function(t){return t!==e.data.id}))):(this.values.unshift(e.data),this.valuesIds.unshift(e.data.id)),this.maxValuesCount&&this.values.length>this.maxValuesCount&&(this.valuesIds.pop(),this.values.pop()),1!==this.maxValuesCount||(t.callback&&t.callback(this.valuesIds,this.values),1)))},items:[],toggleTreeItem:function(t){return $(t.target).closest("li").toggleClass("expanded"),!1},prepareAndSet:function(n){if(n=n||[],this.set("items",n),n.length&&t.values&&t.values.length){var o=[],s=t.values.map(function(t){return t.id});!function t(e){o.push.apply(o,i(e.filter(function(e){return e.children&&e.children.length&&t(e.children),s.find(function(t){return t===e.id})})))}(n),o&&o.length&&(this.set("values",o),this.set("valuesIds",o.map(function(t){return t.id})))}setTimeout(function(){t.pos&&a.findWidgetPos(e.find("> .w-popup"),t.pos)})},getDataForTree:function(){var e=this;if(t.data&&!t.url&&this.prepareAndSet(t.data),t.url){var n=JSON.stringify({});t.getAjaxData&&(n=t.getAjaxData({skip:this.dataParams?this.dataParams.take:0,take:this.dataParams?this.dataParams.take:40})),$.ajax({data:n,type:t.method||"GET",url:t.url,success:function(n){t.onAjaxSuccess&&(n=t.onAjaxSuccess(n)),e.prepareAndSet(n)},error:function(t){source.error(t.responseJSON)}})}},onClose:function(){t.callback(this.get("valuesIds"),this.get("values"))},init:function(){this.getDataForTree(),s.onCloseSetup(t,e,this.onClose.bind(this))},show:function(){s.show(e,!1,t.pos)},destroy:function(){s.destroy(e)}};return a.bindViewModel(e,n)}(l)).show()}},function(t,e,n){var i=n(89);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(91);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(93);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<script id="rc-tree-item-template" type="text/kendo-ui-template">\n    <li data-bind="css: { selected: checkSelected }, click: onSelect" class="expanded">\n        # if ((typeof children !== \'undefined\') && children && children.length) { #\n        <button data-bind="click: toggleTreeItem" type="button" class="toggle-item">\n            <i class="material-icons">\n                chevron_right\n            </i>\n        </button>\n        # } #\n        <label>\n            #: name #\n        </label>\n\n        # if ((typeof children !== \'undefined\') && children && children.length) { #\n        <ul data-template="rc-tree-item-template" data-bind="source: children" class="simple-tree"></ul>\n        # } #\n    </li>\n<\/script>\n<div id=\'rc-tree-template\'>\n    <div class="w-popup tree-container">\n        <ul data-template="rc-tree-item-template" data-bind="source: items" class="simple-tree"></ul>\n    </div>\n</div>'},function(t,e,n){n(3),n(96),n(98),n(100);var i=n(2),a=n(102),o=n(4);t.exports=function(t,e){var n,s={selector:t.selector,log:t.log,pos:{x:t.pageX||0,y:t.pageY||0},buttons:t.buttons||[],title:t.title||"",fields:t.fields||[],callback:function(t,i,a){e(t,i,a?a.slug:null),a&&!a.close||n.destroy()}};return(n=function(t){var e=i.anyWidgetInitialActions(t);if(!e)return null;i.initTemplates(e,a,"#rc-treebuttons-template",!1,[{templateName:"rc-treebuttons-action-buttons-item-template"},{templateName:"rc-treebuttons-item-template"},{templateName:"rc-treebuttons-fields-item-template"},{templateName:"rc-treebuttons-col-fields-item-template"}]);var n=null,s=function(){clearTimeout(n),n=setTimeout(function(){l.generateColumns()},400)},l={fields:t.fields,cols:[],checkColsExists:function(){return!!this.get("cols").length},checkPopupMode:function(){return this.get("cols").length>1},generateColumns:function(){for(var t=this.get("fields").sort(function(t,e){return t.name.toUpperCase()>e.name.toUpperCase()?1:-1}),n=Math.max(1,Math.ceil(($(window).height()-161)/42)),a=$(window).width()-120,o=1,s=!0,l=[],r=function(t,e){var n=[{fields:[]}];return t.forEach(function(t){var i=n.length-1;n[i].fields.length===e&&(n.push({fields:[]}),i++),n[i].fields.push(t)}),n};s&&Math.ceil(t.length/o)>n;){o++;var c=0;(l=r(t,Math.ceil(t.length/o))).forEach(function(t){var e;c+=7*(e=(e=$.merge([],t.fields)).sort(function(t,e){return t.name.length+(t.buttons.length>1?20:0)>e.name.length+(e.buttons.length>1?20:0)?-1:1}))[0].name.length+(e[0].buttons.length>1?215:30)}),c>a&&(o-=1,s=!1)}l=r(t,n=Math.ceil(t.length/o)),this.set("cols",l),i.checkPosition(e)},title:t.title,buttons:t.buttons,onButtonClick:function(e){var n=$(e.target).closest("[data-status-id]").attr("data-status-id");t.callback(n,e.data.slug),this.close()},onFirstButton:function(e){return t.callback(e.data.slug,e.data.buttons[0].slug),this.close(),!1},onFieldClick:function(n){return $(n.target).closest("li").hasClass("expanded")?($(n.target).closest("li").toggleClass("expanded"),!1):($(n.target).closest(".fields").find(".expanded").removeClass("expanded"),n.data.buttons.length>1?($(n.target).closest("li").toggleClass("expanded"),i.checkPosition(e)):n.data.buttons.length?(t.callback(n.data.slug,n.data.buttons[0].slug),this.close()):(t.callback(n.data.slug),this.close()),!1)},onActionButtonClick:function(e){t.callback(null,null,e.data)},close:function(){o.performClose(e)},onClose:function(){t.callback()},init:function(){o.onCloseSetup(t,e,this.onClose.bind(this)),this.generateColumns(),window.addEventListener("resize",s)},show:function(){o.show(e,!1,t.pos)},destroy:function(){window.removeEventListener("resize",s),kendo.unbind(e.find("> .w-popup-background")),o.destroy(e)}};return i.bindViewModel(e,l)}(s)).show(),n}},function(t,e,n){var i=n(97);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(99);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(101);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<script id="rc-treebuttons-action-buttons-item-template" type="text/x-kendo-template">\n    <li data-bind="click: onActionButtonClick">\n        #: name #\n    </li>\n<\/script>\n<script id="rc-treebuttons-item-template" type="text/x-kendo-template">\n    <li data-bind="click: onButtonClick">\n        #: name #\n    </li>\n<\/script>\n\n<script id="rc-treebuttons-fields-item-template" type="text/x-kendo-template">\n    <li\n        data-status-id="#: slug #"\n        class="\n            # if (buttons.length > 1) { #\n                width-default-button\n            # } #\n        "\n    >\n\n        <div\n            data-bind="click: onFieldClick"\n            class="head">\n            <span>#: name #</span>\n            # if (buttons.length > 1) { #\n            <i class="material-icons icon down">\n                keyboard_arrow_down\n            </i>\n            <i class="material-icons icon up">\n                keyboard_arrow_up\n            </i>\n            # } #\n\n            # if (buttons.length > 1) { #\n            <button\n                data-bind="click: onFirstButton"\n                type="button">#: buttons[0].name #</button>\n            # } #\n        </div>\n        <div class="body">\n            <ul data-template="rc-treebuttons-item-template"\n                data-bind="source: buttons"\n                class="reasons">\n            </ul>\n        </div>\n    </li>\n<\/script>\n<script id="rc-treebuttons-col-fields-item-template" type="text/x-kendo-template">\n    <ul data-template="rc-treebuttons-fields-item-template"\n        data-bind="source: fields"\n        class="col">\n    </ul>\n<\/script>\n\n\n<div id="rc-treebuttons-template">\n    <div\n        data-bind="\n            visible: checkColsExists,\n            css: {\n                popup-mode: checkPopupMode\n            }\n        "\n        class="rc-treebuttons w-popup">\n        <div class="head">\n            <button class="close-it" rc-tooltip="Закрыть" data-bind="click: close" type="button">\n                <i class="material-icons">\n                    close\n                </i>\n            </button>\n            <div class="title" data-bind="text: title"></div>\n        </div>\n\n        <div\n            data-template="rc-treebuttons-col-fields-item-template"\n            data-bind="source: cols"\n            class="fields">\n        </div>\n\n        <ul\n            data-template="rc-treebuttons-action-buttons-item-template"\n            data-bind="\n                source: buttons\n            "\n            class="buttons"\n        ></ul>\n    </div>\n</div>\n'},function(t,e,n){n(3),n(104),n(106),n(108);var i=n(2),a=n(110),o=n(4);t.exports=function(t,e){var n,s={selector:t.selector,log:t.log,pos:{x:t.pageX||0,y:t.pageY||0},uploadFiles:t.url,MaxFilesCount:t.maxFilesCount||1,MaxFileSize:t.maxFileSize||50,AllowedExtensions:t.allowedExtensions||["avi","jpg","jpeg","png","gif","doc","docx","mp4","rtf","pdf","txt","log","xls","xlsx","zip","7z","rar","cfg","config","vsd","vdx","vsx","vtx","vsdx","vsdm","xml","AVI","JPG","JPEG","PNG","GIF","DOC","DOCX","MP4","RTF","PDF","TXT","LOG","XLS","XLSX","ZIP","7Z","RAR","CFG","CONFIG","VSD","VDX","VSX","VTX","VSDX","VSDM","XML","har","sig"],callback:function(t,i){e(t,i),i||n.destroy()}};return(n=function(t){var e=i.anyWidgetInitialActions(t);if(!e)return null;i.initTemplates(e,a,"#rc-upload-template");var n=!1,s={inUpload:!1,selectFiles:function(a){e.find(".w-popup").addClass("no-close"),n=!0;var o=!1,s="";a.files.length>1&&(s="Hи один "),a.files.length>t.MaxFilesCount&&(i.log("".concat(s," файл не загружен, т.к. в задаче достигнуто максимальное количество файлов ").concat(t.MaxFilesCount)),a.preventDefault(),o=!0),a.files.forEach(function(e){e.size>1024*t.MaxFileSize*1024&&(i.log("".concat(s," файл не загружен, т.к. размер одного из файлов больше чем ").concat(t.MaxFileSize," Mb. (файл ").concat(e.name,")")),a.preventDefault(),o=!0,n=!1),e.size||(i.log("".concat(s," файл не загружен, т.к. размер одного из файлов = 0 (файл ").concat(e.name,")")),a.preventDefault(),o=!0,n=!1),t.AllowedExtensions.indexOf(e.extension.substr(1).toLowerCase())<0&&(i.log("".concat(s," файл не загружен, т.к. расширение файла не поддерживается (файл ").concat(e.name,")")),i.log("Допустимые расширения: ".concat(t.AllowedExtensions.join(", "))),a.preventDefault(),o=!0,n=!1)}),o||e.find(".load-process").show()},success:function(i){n=!1,e.find(".w-popup").removeClass("no-close"),i.response&&t.callback&&t.callback(i.response,n)},uploadFiles:function(e){e.sender.options.async.saveUrl=t.uploadFiles},error:function(a){n=!1,e.find(".w-popup").removeClass("no-close"),t.callback&&t.callback(),a.XMLHttpRequest&&a.XMLHttpRequest.responseText?i.log(JSON.parse(a.XMLHttpRequest.responseText)):i.log({Message:"Что-то пошло не так"})},onClose:function(){t.callback(null,n)},init:function(){o.onCloseSetup(t,e,this.onClose.bind(this)),e.find("[name=filesInput]").kendoUpload({multiple:!0,async:{saveUrl:t.uploadFiles,autoupload:!0},success:this.success,upload:this.upload,select:this.selectFiles,error:this.error,dropZone:".rc-upload-file-drop-zone",localization:{select:"Загрузить с устройства"}})},show:function(){o.show(e,!1,t.pos)},destroy:function(){o.destroy(e)}};return i.bindViewModel(e,s)}(s)).show(),n}},function(t,e,n){var i=n(105);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(107);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(109);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<div id=\'rc-upload-template\'>\n    <div class="rc-upload w-popup">\n        <div class="rc-upload-file-drop-zone">\n            <p>\n                <i class="material-icons">&#xE24D;</i>\n                Также вы можете перетащить <br>\n                файл на любое место<br>\n                окна задачи\n            </p>\n        </div>\n\n        <input\n            name="filesInput"\n            type="file"\n            data-show-file-list="false"\n        />\n\n        <div class="load-process rc-loader">\n            <div class="wrapper size-2">\n                <div class="pie spinner"></div>\n                <div class="pie filler"></div>\n                <div class="mask"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e,n){n(3),n(112),n(114),n(116);var i=n(2),a=n(118),o=n(4);t.exports=function(t,e){var n,s={selector:t.selector,log:t.log,template:t.template,getUsers:t.getUsers,maxValuesCount:t.maxValuesCount||!0,loadDataAfterScroll:!0,values:t.values||[],buttons:t.buttons||[],pos:{x:t.pageX,y:t.pageY},buttonHoverEvent:!0,userOptions:{dataParams:{take:20,skip:0}},callback:function(i,a,o,s){"function"==typeof e&&e(i,a,o,s);var l=!0;t.buttons.forEach(function(t){t.slug===a&&t.dontClose&&(l=!1)}),l&&n.destroy()}};return(n=function(t){var e=i.anyWidgetInitialActions(t);if(!e)return null;i.initTemplates(e,a,"#rc-users-template",!1,[{templateName:"rc-users-user-item-template",userTemplate:t.template},{templateName:"rc-users-button-item-template"}]);var n={onButtonClick:function(n){var i=this;if(n.data.dontClose){var a={pageX:n.pageX,pageY:n.pageY};t.callback([],n.data.slug||null,a,function(t,e){e&&(e.addAfterValues||(i.found=[])),t&&i.getUsersSuccess(t)})}else o.performClose(e,[[],n.data.slug||null])},actionButtons:t.actionButtons||[],buttons:t.buttons||[],values:t.values?t.values:[],valuesExists:function(){return!!this.get("values").length},dataParams:t.userOptions.dataParams||"",found:t.found?t.found:[],showLoader:!1,usersTypeUrlExtens:t.usersTypeUrlExtens||"",searchStr:"",total:0,searchStrTimeout:null,searchStrChange:function(){var t=this;this.searchStrTimeout&&clearTimeout(this.searchStrTimeout),this.searchStrTimeout=setTimeout(function(){t.searchStr||t.set("total",0),t.set("found",[]),t.getPossibleUsers()},300)},getUsersSuccess:function(t){var e=this.get("values").map(function(t){return t.id}),n=this.values.map(function(t){return parseInt(t.id)}),i=function(t){return-1===e.indexOf(t.id)&&(null!=t.name||null!=t.fullName)};if(this.total){this.set("total",this.total+t.length);var a=t;(e.length||n.length)&&(a=t.filter(function(t){return i(t)&&-1===n.indexOf(t.id)})),this.set("found",$.merge($.extend([],this.found),a))}else this.set("total",this.total+t.length),t=t.filter(function(t){return i(t)&&-1===n.indexOf(t.id)}),this.set("found",t.splice(0,40).filter(function(t){return i(t)}))},getPossibleUsersAjax:null,getPossibleUsers:function(){var e=this;if(!t.getUsers)return!1;this.searchStr&&(this.total=0,this.set("found",[])),t.getUsers({Skip:this.total||this.dataParams&&this.dataParams.skip||0,SearchStr:this.searchStr},function(t){e.getUsersSuccess(t)})},getDataAfterEndScroll:function(){var t=this,n=null;e.find("ul.found").on("scroll",function(e){var i=e.target;n&&clearTimeout(n),n=setTimeout(function(){var e=$(i),n=e.find("li:first").length?e.find("li:first").innerHeight():0;e.height()+e.scrollTop()+n>=i.scrollHeight&&!t.searchStr&&t.getPossibleUsers()},400)})},userClick:function(n){if($(n.target).closest("li").parent().hasClass("values"))return this.found.unshift(n.data),this.set("values",this.get("values").filter(function(t){return t.id!==n.data.id})),!1;this.values.unshift(n.data),!t.maxValuesCount&&this.values.length>1?this.found.unshift(this.values.pop()):"number"==typeof t.maxValuesCount&&this.values.length>t.maxValuesCount&&this.found.unshift(this.values.pop()),this.set("found",this.get("found").filter(function(t){return t.id!==n.data.id})),!t.maxValuesCount&&this.values.length>0&&o.performClose(e)},onClose:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];i&&i.length?t.callback.apply(t,i):t.callback(this.get("values"))},init:function(){this.getPossibleUsers(),o.onCloseSetup(t,e,this.onClose.bind(this))},show:function(){o.show(e,!1,t.pos),t.loadDataAfterScroll&&this.getDataAfterEndScroll()},destroy:function(){var t=$(".rc-select.w-popup.showing");t.length&&t.trigger("onClose"),o.destroy(e)}};return i.bindViewModel(e,n)}(s)).show(),n}},function(t,e,n){var i=n(113);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(115);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(117);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e){t.exports='<script id="rc-users-user-item-template" type="text/x-kendo-template">\n    <li\n        data-bind="click: userClick"\n    >\n        <div>#: name #</div>\n        <i class="material-icons">\n            done\n        </i>\n    </li>\n<\/script>\n\n<script id="rc-users-button-item-template" type="text/x-kendo-template">\n    <li\n        data-bind="click: onButtonClick"\n    >\n        #: name #\n\n        <i class="material-icons">\n            chevron_right\n        </i>\n    </li>\n<\/script>\n\n<div id=\'rc-users-template\'>\n    <div class="rc-users w-popup">\n        <div class="search-input">\n            <button\n                class="find-button"\n                type="button">\n                <i class="material-icons">\n                    search\n                </i>\n            </button>\n\n            <input\n                data-value-update="keyup"\n                data-bind="\n                    value: searchStr,\n                    events: {\n                        change: searchStrChange,\n                        keyup: searchStrChange\n                    }\n                "\n                placeholder="Поиск"\n                type="text"/>\n            <span></span>\n        </div>\n\n        <ul\n            data-template="rc-users-button-item-template"\n            data-bind="source: actionButtons"\n            class="action-buttons"></ul>\n\n        <ul\n            data-template="rc-users-button-item-template"\n            data-bind="source: buttons"\n\n            class="buttons"\n        ></ul>\n\n        \x3c!--     <span data-bind="invisible: valuesExists" class="empty-label">\n                Не найдено\n            </span> --\x3e\n\n        <ul\n            data-template="rc-users-user-item-template"\n            data-bind="\n                visible: valuesExists,\n                source: values\n            "\n\n            class="values">\n        </ul>\n\n        <div class="load-process rc-loader" data-bind="visible: showLoader">\n            <div class="wrapper size-3">\n                <div class="pie spinner"></div>\n                <div class="pie filler"></div>\n                <div class="mask"></div>\n            </div>\n        </div>\n\n        <span\n            data-bind="\n                visible: valuesExists,\n            "\n            class="line"></span>\n        <ul\n            data-template="rc-users-user-item-template"\n            data-bind="source: found"\n\n            class="found">\n        </ul>\n    </div>\n</div>\n'},function(t,e,n){var i=n(2),a=n(23),o=n(31),s=n(7),l=n(8),r=n(39),c=n(47),d=n(55),u=n(63),f=n(71),p=n(79),m=n(87),h=n(95),v=n(103),g=n(111);t.exports=function(t){return i.libraryInitialAction(t),p(t),{getHtmlVideo:i.getHtml,buttons:a,addvideo:o,autocomplete:s,calendar:l,city:r,field:c,filepreview:d,form:u,select:f,tree:m,treebuttons:h,upload:v,users:g}}}]);
